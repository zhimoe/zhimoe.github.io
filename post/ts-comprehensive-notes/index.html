<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Typescript Comprehensive Cheatsheet - 香取海</title>
<meta property="og:title" content="Typescript Comprehensive Cheatsheet - 香取海"><meta name=twitter:card content="summary"><meta property="description" content="一份详尽的 ts 语法笔记。这周在看组里前端同事的代码，感觉完全还是在写 JS，以我有限的 JS/TS 知识，也知道可以写得更加规范一点。但是一上手开始改，还真是手生。
又重新过了一遍文档，做了一点笔记。"><meta property="og:description" content="一份详尽的 ts 语法笔记。这周在看组里前端同事的代码，感觉完全还是在写 JS，以我有限的 JS/TS 知识，也知道可以写得更加规范一点。但是一上手开始改，还真是手生。
又重新过了一遍文档，做了一点笔记。"><link rel=stylesheet href=../../css/style.css><link rel=stylesheet href=../../css/fonts.css><link rel=stylesheet href=../../css/custom.css><link rel=icon type=image/png href=../../img/logo.png><link rel=apple-touch-icon href=../../img/logo.png><link rel=apple-touch-icon-precomposed href=../../img/logo.png></head><body class="single post"><div class=crop-h></div><div class=crop-v></div><div class=crop-c></div><nav class="nav-top small"><div class=logo><a href=../../>香取海</a></div><div class=menu><span class=active><a href=../../post/>博客</a></span>
<span><a href=../../categories/%E7%BC%96%E7%A8%8B/>编程</a></span>
<span><a href=../../categories/%E7%BF%BB%E8%AF%91/>翻译</a></span>
<span><a href=../../categories/%E9%9A%8F%E6%83%B3/>随想</a></span>
<span><a href=../../search/>搜索</a></span></div></nav><div class=article-meta><h1 class=title>Typescript Comprehensive Cheatsheet</h1><h3 class=meta-line><span><span class=date>2021-08-14</span>
</span><span class=term><a href=../../categories/%E7%BC%96%E7%A8%8B/ class=term-cat>编程</a>
<a href=../../tags/typescript/ class=term-tag>#typescript</a></span></h3></div><div class=main><p>一份详尽的 ts 语法笔记。这周在看组里前端同事的代码，感觉完全还是在写 JS，以我有限的 JS/TS 知识，也知道可以写得更加规范一点。但是一上手开始改，还真是手生。<br>又重新过了一遍文档，做了一点笔记。</p><h3 id=install>install</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#177500># Install</span>
</span></span><span style=display:flex><span>npm install typescript
</span></span><span style=display:flex><span><span style=color:#177500># Run</span>
</span></span><span style=display:flex><span>npx tsc
</span></span><span style=display:flex><span><span style=color:#177500># Run with a specific config  </span>
</span></span><span style=display:flex><span>npx tsc --project configs/my_tsconfig.json
</span></span><span style=display:flex><span><span style=color:#177500># Triple slash directives</span>
</span></span><span style=display:flex><span><span style=color:#177500># Reference built-in types  </span>
</span></span><span style=display:flex><span>/// &lt;reference <span style=color:#000>lib</span><span style=color:#000>=</span><span style=color:#c41a16>&#34;es2016.array.include&#34;</span> /&gt;
</span></span><span style=display:flex><span><span style=color:#177500># Reference other types</span>
</span></span><span style=display:flex><span>/// &lt;reference <span style=color:#000>path</span><span style=color:#000>=</span><span style=color:#c41a16>&#34;../my_types&#34;</span> /&gt;
</span></span><span style=display:flex><span>/// &lt;reference <span style=color:#000>types</span><span style=color:#000>=</span><span style=color:#c41a16>&#34;jquery&#34;</span> /&gt;
</span></span><span style=display:flex><span><span style=color:#177500># AMD</span>
</span></span><span style=display:flex><span>/// &lt;amd-module <span style=color:#000>name</span><span style=color:#000>=</span><span style=color:#c41a16>&#34;Name&#34;</span> /&gt;
</span></span><span style=display:flex><span>/// &lt;amd-dependency <span style=color:#000>path</span><span style=color:#000>=</span><span style=color:#c41a16>&#34;app/foo&#34;</span> <span style=color:#000>name</span><span style=color:#000>=</span><span style=color:#c41a16>&#34;foo&#34;</span> /&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500># Compiler comments</span>
</span></span><span style=display:flex><span><span style=color:#177500># Don’t check this file</span>
</span></span><span style=display:flex><span>// @ts-nocheck
</span></span><span style=display:flex><span><span style=color:#177500># Check this file (JS)  </span>
</span></span><span style=display:flex><span>// @ts-check
</span></span><span style=display:flex><span><span style=color:#177500># Ignore the next line  </span>
</span></span><span style=display:flex><span>// @ts-ignore
</span></span><span style=display:flex><span><span style=color:#177500># Expect an error on the next line  </span>
</span></span><span style=display:flex><span>// @ts-expect-error
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500># ignore ts type error</span>
</span></span><span style=display:flex><span>tsc --noEmitOnError hello.ts
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500># tsconfig.json</span>
</span></span><span style=display:flex><span><span style=color:#c41a16>&#34;strict&#34;</span>: <span style=color:#a90d91>true</span>
</span></span><span style=display:flex><span><span style=color:#c41a16>&#34;noImplicitAny&#34;</span>
</span></span><span style=display:flex><span><span style=color:#c41a16>&#34;strictNullChecks&#34;</span>
</span></span></code></pre></div><h3 id=ts-syntax-cheatsheet>ts syntax cheatsheet</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Basic type 
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>any</span> <span style=color:#177500>// untyped, use as js, disables all further type checking
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>unknown</span> <span style=color:#177500>// The unknown type represents any value. This is similar to the any type, but is safer because it’s not legal to do anything with an unknown value:
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>void</span> <span style=color:#177500>// void is not the same as undefined.
</span></span></span><span style=display:flex><span><span style=color:#177500>// a contextual function type with a void return type (type vf = () =&gt; void), when implemented, can return any other value, but it will be ignored.
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>null</span> <span style=color:#177500>// prefer use undefined
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>undefined</span>
</span></span><span style=display:flex><span><span style=color:#177500>// check optional param? if undefined before use it 
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>never</span>  <span style=color:#177500>// unreachable see: https://www.typescriptlang.org/docs/handbook/2/narrowing.html#exhaustiveness-checking
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>object</span>
</span></span><span style=display:flex><span><span style=color:#177500>// object is not Object. Always use object! object also diff from {}
</span></span></span><span style=display:flex><span><span style=color:#177500>// In compile time {} doesn&#39;t have Object&#39;s members and Object has more strict behavior 
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>boolean</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>number</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>string</span>
</span></span><span style=display:flex><span><span style=color:#177500>// The type names String , Number , and Boolean (starting with capital letters) are legal, but refer to
</span></span></span><span style=display:flex><span><span style=color:#177500>// some special built-in types that will very rarely appear in your code. Always use string , number , or
</span></span></span><span style=display:flex><span><span style=color:#177500>// boolean for types.
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>bigint</span> <span style=color:#177500>//ES2020
</span></span></span><span style=display:flex><span><span style=color:#177500>// Creating a bigint via the BigInt function
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>oneHundred</span>: <span style=color:#a90d91>bigint</span> <span style=color:#000>=</span> <span style=color:#000>BigInt</span>(<span style=color:#1c01ce>100</span>);
</span></span><span style=display:flex><span><span style=color:#177500>// Creating a BigInt via the literal syntax
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>anotherHundred</span>: <span style=color:#a90d91>bigint</span> <span style=color:#000>=</span> <span style=color:#1c01ce>100</span><span style=color:#000>n</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>string</span>[] <span style=color:#177500>// or  Array&lt;string&gt;
</span></span></span><span style=display:flex><span><span style=color:#177500>// ReadonlyArray
</span></span></span><span style=display:flex><span><span style=color:#177500>// error: new ReadonlyArray(&#34;red&#34;, &#34;green&#34;, &#34;blue&#34;);
</span></span></span><span style=display:flex><span><span style=color:#177500>// use:
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>roArray</span>: <span style=color:#a90d91>ReadonlyArray</span>&lt;<span style=color:#000>string</span>&gt; <span style=color:#000>=</span> [<span style=color:#c41a16>&#34;red&#34;</span>, <span style=color:#c41a16>&#34;green&#34;</span>, <span style=color:#c41a16>&#34;blue&#34;</span>];
</span></span><span style=display:flex><span><span style=color:#177500>// Just as TypeScript provides a shorthand syntax for Array&lt;Type&gt; with Type[], 
</span></span></span><span style=display:flex><span><span style=color:#177500>// it also provides a shorthand syntax for ReadonlyArray&lt;Type&gt; with readonly Type[]
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>x</span>: <span style=color:#a90d91>readonly</span> <span style=color:#a90d91>string</span>[] <span style=color:#000>=</span> [];
</span></span><span style=display:flex><span><span style=color:#a90d91>let</span> <span style=color:#000>y</span>: <span style=color:#a90d91>string</span>[] <span style=color:#000>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a90d91>string</span>, <span style=color:#a90d91>number</span>]  <span style=color:#177500>// tuple
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>string</span> <span style=color:#000>|</span> <span style=color:#a90d91>null</span> <span style=color:#000>|</span> <span style=color:#a90d91>undefined</span>   <span style=color:#177500>// union type
</span></span></span><span style=display:flex><span><span style=color:#177500>// use isArray function narrowing the array type
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>welcomePeople</span>(<span style=color:#000>x</span>: <span style=color:#a90d91>string</span>[] <span style=color:#000>|</span> <span style=color:#a90d91>string</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a90d91>if</span> (<span style=color:#a90d91>Array</span>.<span style=color:#000>isArray</span>(<span style=color:#000>x</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#000>console</span>.<span style=color:#000>log</span>(<span style=color:#c41a16>&#34;Hello, &#34;</span> <span style=color:#000>+</span> <span style=color:#000>x</span>.<span style=color:#000>join</span>(<span style=color:#c41a16>&#34; and &#34;</span>));
</span></span><span style=display:flex><span>  } <span style=color:#a90d91>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#000>console</span>.<span style=color:#000>log</span>(<span style=color:#c41a16>&#34;Welcome lone traveler &#34;</span> <span style=color:#000>+</span> <span style=color:#000>x</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// use in operator narrowing method structual type
</span></span></span><span style=display:flex><span><span style=color:#177500>// instanceof narrowing
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>direction</span><span style=color:#000>=</span> <span style=color:#c41a16>&#39;left&#39;</span> <span style=color:#000>|</span> <span style=color:#c41a16>&#39;right&#39;</span>; <span style=color:#177500>// Literal types
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>roll</span><span style=color:#000>=</span> <span style=color:#1c01ce>1</span> <span style=color:#000>|</span> <span style=color:#1c01ce>2</span> <span style=color:#000>|</span> <span style=color:#1c01ce>3</span> <span style=color:#000>|</span> <span style=color:#1c01ce>4</span> <span style=color:#000>|</span> <span style=color:#1c01ce>5</span> <span style=color:#000>|</span> <span style=color:#1c01ce>6</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// ?? (nullish coalescing)  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>getValue</span>(<span style=color:#000>val?</span>: <span style=color:#a90d91>number</span>)<span style=color:#000>:</span> <span style=color:#a90d91>number</span> <span style=color:#000>|</span> <span style=color:#c41a16>&#39;nil&#39;</span> {
</span></span><span style=display:flex><span>  <span style=color:#177500>// Will only return &#39;nil&#39; if `val` is null or undefined
</span></span></span><span style=display:flex><span><span style=color:#177500></span>  <span style=color:#a90d91>return</span> <span style=color:#000>val</span> <span style=color:#000>??</span> <span style=color:#c41a16>&#39;nil&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// ?. (optional chaining)
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>countCaps</span>(<span style=color:#000>value?</span>: <span style=color:#a90d91>string</span>) {
</span></span><span style=display:flex><span>  <span style=color:#177500>// The `value` expression be undefined if `value` is null or
</span></span></span><span style=display:flex><span><span style=color:#177500></span>  <span style=color:#177500>// undefined, or if the `match` call doesn&#39;t find anything.
</span></span></span><span style=display:flex><span><span style=color:#177500></span>  <span style=color:#a90d91>return</span> <span style=color:#000>value</span><span style=color:#000>?</span>.<span style=color:#000>match</span>(<span style=color:#c41a16>/[A-Z]/g</span>)<span style=color:#000>?</span>.<span style=color:#000>length</span> <span style=color:#000>??</span> <span style=color:#1c01ce>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// ! (null assertion) skip the null/undefined check
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>value</span>: <span style=color:#a90d91>string</span> <span style=color:#000>|</span> <span style=color:#a90d91>undefined</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// ... Code that we&#39;re sure will initialize `value` ...
</span></span></span><span style=display:flex><span><span style=color:#177500>// Assert that `value` is defined
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>console</span>.<span style=color:#000>log</span>(<span style=color:#c41a16>`value is </span><span style=color:#c41a16>${</span><span style=color:#000>value</span><span style=color:#000>!</span>.<span style=color:#000>length</span><span style=color:#c41a16>}</span><span style=color:#c41a16> characters long`</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// &amp;&amp;=  assign a value only if current value is truthy
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>a</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>let</span> <span style=color:#000>b</span> <span style=color:#000>=</span> <span style=color:#1c01ce>1</span>;
</span></span><span style=display:flex><span><span style=color:#000>a</span> <span style=color:#000>&amp;&amp;=</span> <span style=color:#c41a16>&#39;default&#39;</span>; <span style=color:#177500>// a is still undefined
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>b</span> <span style=color:#000>&amp;&amp;=</span>  <span style=color:#1c01ce>5</span>; <span style=color:#177500>// b is now 5
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>// ||=   assign a value only if current value is falsy
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>a</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>let</span> <span style=color:#000>b</span> <span style=color:#000>=</span> <span style=color:#1c01ce>1</span>;
</span></span><span style=display:flex><span><span style=color:#000>a</span> <span style=color:#000>||=</span> <span style=color:#c41a16>&#39;default&#39;</span>; <span style=color:#177500>// a is &#39;default&#39; now
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>b</span> <span style=color:#000>||=</span>  <span style=color:#1c01ce>5</span>; <span style=color:#177500>// b is still 1
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>// ??=  assign a value only if current value is null or undefined
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>a</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>let</span> <span style=color:#000>b</span> <span style=color:#000>=</span> <span style=color:#1c01ce>0</span>;
</span></span><span style=display:flex><span><span style=color:#000>a</span> <span style=color:#000>??=</span> <span style=color:#c41a16>&#39;default&#39;</span>; <span style=color:#177500>// a is now &#39;default&#39;
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>b</span> <span style=color:#000>??=</span>  <span style=color:#1c01ce>5</span>; <span style=color:#177500>// b is still 0
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>// Object
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{
</span></span><span style=display:flex><span>    <span style=color:#000>requiredStringVal</span>: <span style=color:#a90d91>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>optionalNum?</span>: <span style=color:#a90d91>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a90d91>readonly</span> <span style=color:#000>readOnlyBool</span>: <span style=color:#a90d91>bool</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Index signature: object with arbitrary string properties (like a hashmap or dictionary)
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{ [<span style=color:#000>key</span>: <span style=color:#a90d91>string</span>]<span style=color:#000>:</span> <span style=color:#000>Type</span>; }
</span></span><span style=display:flex><span>{ [<span style=color:#000>key</span>: <span style=color:#a90d91>number</span>]<span style=color:#000>:</span> <span style=color:#000>Type</span>; }
</span></span><span style=display:flex><span>{ [<span style=color:#000>key</span>: <span style=color:#a90d91>symbol</span>]<span style=color:#000>:</span> <span style=color:#000>Type</span>; }
</span></span><span style=display:flex><span>{ [<span style=color:#000>key</span><span style=color:#000>:</span> <span style=color:#c41a16>`data-</span><span style=color:#c41a16>${</span><span style=color:#a90d91>string</span><span style=color:#c41a16>}</span><span style=color:#c41a16>`</span>]<span style=color:#000>:</span> <span style=color:#000>Type</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Array of functions that return strings
</span></span></span><span style=display:flex><span><span style=color:#177500></span>(() <span style=color:#000>=&gt;</span> <span style=color:#a90d91>string</span>)[]
</span></span><span style=display:flex><span><span style=color:#177500>// or
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{ ()<span style=color:#000>:</span> <span style=color:#a90d91>string</span>; }[]
</span></span><span style=display:flex><span><span style=color:#177500>// or
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>Array</span><span style=color:#000>&lt;</span>() <span style=color:#000>=&gt;</span> <span style=color:#a90d91>string</span><span style=color:#000>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Basic tuples
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>myTuple</span><span style=color:#000>:</span> [ <span style=color:#a90d91>string</span>, <span style=color:#a90d91>number</span>, <span style=color:#a90d91>boolean</span><span style=color:#000>?</span> ];
</span></span><span style=display:flex><span><span style=color:#000>myTuple</span> <span style=color:#000>=</span> [ <span style=color:#c41a16>&#39;test&#39;</span>, <span style=color:#1c01ce>42</span> ];
</span></span><span style=display:flex><span><span style=color:#177500>// Variadic tuples  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Numbers</span> <span style=color:#000>=</span> [<span style=color:#a90d91>number</span>, <span style=color:#a90d91>number</span>];
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Strings</span> <span style=color:#000>=</span> [<span style=color:#a90d91>string</span>, <span style=color:#a90d91>string</span>];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>NumbersAndStrings</span> <span style=color:#000>=</span> [...<span style=color:#000>Numbers</span>, ...<span style=color:#000>Strings</span>];
</span></span><span style=display:flex><span><span style=color:#177500>// [number, number, string, string]
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>NumberAndRest</span> <span style=color:#000>=</span> [<span style=color:#a90d91>number</span>, ...<span style=color:#a90d91>string</span>[]];
</span></span><span style=display:flex><span><span style=color:#177500>// [number, varying number of string]
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>RestAndBoolean</span> <span style=color:#000>=</span> [...<span style=color:#a90d91>any</span>[], <span style=color:#a90d91>boolean</span>];
</span></span><span style=display:flex><span><span style=color:#177500>// [varying number of any, boolean]
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>// Named tuples
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Vector2D</span> <span style=color:#000>=</span> [<span style=color:#000>x</span>: <span style=color:#a90d91>number</span>, <span style=color:#000>y</span>: <span style=color:#a90d91>number</span>];
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>createVector2d</span>(...<span style=color:#000>args</span>: <span style=color:#a90d91>Vector2D</span>) {}
</span></span><span style=display:flex><span><span style=color:#177500>// function createVector2d(x: number, y: number): void
</span></span></span><span style=display:flex><span><span style=color:#177500>// !!!cation, you can not use v2d.x the name is just for hint, not for compiler
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Interface  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>interface</span> <span style=color:#000>Child</span> <span style=color:#a90d91>extends</span> <span style=color:#000>Parent</span>, <span style=color:#000>SomeClass</span> {
</span></span><span style=display:flex><span>    <span style=color:#000>property</span>: <span style=color:#a90d91>Type</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>optionalProp?</span>: <span style=color:#a90d91>Type</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>optionalMethod</span><span style=color:#000>?</span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>)<span style=color:#000>:</span> <span style=color:#000>ReturnType</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Class  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>class</span> <span style=color:#000>Child</span> <span style=color:#a90d91>extends</span> <span style=color:#000>Parent</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>implements</span> <span style=color:#000>Child</span>, <span style=color:#000>OtherChild</span> {
</span></span><span style=display:flex><span>    <span style=color:#000>property</span>: <span style=color:#a90d91>Type</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>defaultProperty</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#39;default value&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a90d91>private</span> <span style=color:#000>_privateProperty</span>: <span style=color:#a90d91>Type</span>;
</span></span><span style=display:flex><span>    <span style=color:#a90d91>private</span> <span style=color:#a90d91>readonly</span> <span style=color:#000>_privateReadonlyProperty</span>: <span style=color:#a90d91>Type</span>;
</span></span><span style=display:flex><span>    <span style=color:#a90d91>static</span> <span style=color:#000>staticProperty</span>: <span style=color:#a90d91>Type</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>static</span> {
</span></span><span style=display:flex><span>        <span style=color:#a90d91>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#000>Child</span>.<span style=color:#000>staticProperty</span> <span style=color:#000>=</span> <span style=color:#000>calcStaticProp</span>();
</span></span><span style=display:flex><span>        } <span style=color:#a90d91>catch</span> {
</span></span><span style=display:flex><span>            <span style=color:#000>Child</span>.<span style=color:#000>staticProperty</span> <span style=color:#000>=</span> <span style=color:#000>defaultValue</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>constructor</span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a90d91>super</span>(<span style=color:#000>arg1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>private</span> <span style=color:#000>_privateMethod</span>()<span style=color:#000>:</span> <span style=color:#000>Type</span> {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>methodProperty</span><span style=color:#000>:</span> (<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>) <span style=color:#000>=&gt;</span> <span style=color:#000>ReturnType</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>overloadedMethod</span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>)<span style=color:#000>:</span> <span style=color:#000>ReturnType</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>overloadedMethod</span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>OtherType</span>)<span style=color:#000>:</span> <span style=color:#000>ReturnType</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>overloadedMethod</span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>CommonT</span>)<span style=color:#000>:</span> <span style=color:#000>CommonReturnT</span> {}
</span></span><span style=display:flex><span>    <span style=color:#a90d91>static</span> <span style=color:#000>staticMethod</span>()<span style=color:#000>:</span> <span style=color:#000>ReturnType</span> {}
</span></span><span style=display:flex><span>    <span style=color:#000>subclassedMethod</span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>)<span style=color:#000>:</span> <span style=color:#000>ReturnType</span> {
</span></span><span style=display:flex><span>        <span style=color:#a90d91>super</span>.<span style=color:#000>subclassedMethod</span>(<span style=color:#000>arg1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Function
</span></span></span><span style=display:flex><span><span style=color:#177500>// Function type  
</span></span></span><span style=display:flex><span><span style=color:#177500></span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>, <span style=color:#000>argN</span>: <span style=color:#a90d91>Type</span>) <span style=color:#000>=&gt;</span> <span style=color:#000>Type</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// or
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{ (<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>, <span style=color:#000>argN</span>: <span style=color:#a90d91>Type</span>)<span style=color:#000>:</span> <span style=color:#000>Type</span>; }
</span></span><span style=display:flex><span><span style=color:#177500>// Function type with optional param  
</span></span></span><span style=display:flex><span><span style=color:#177500></span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>, <span style=color:#000>optional?</span>: <span style=color:#a90d91>Type</span>) <span style=color:#000>=&gt;</span> <span style=color:#000>ReturnType</span>
</span></span><span style=display:flex><span><span style=color:#177500>// Function type with rest param  
</span></span></span><span style=display:flex><span><span style=color:#177500></span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>, ...<span style=color:#000>allOtherArgs</span>: <span style=color:#a90d91>Type</span>[]) <span style=color:#000>=&gt;</span> <span style=color:#000>ReturnType</span>
</span></span><span style=display:flex><span><span style=color:#177500>// Function type with static property
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{ ()<span style=color:#000>:</span> <span style=color:#000>Type</span>; <span style=color:#000>staticProp</span>: <span style=color:#a90d91>Type</span>; }
</span></span><span style=display:flex><span><span style=color:#177500>// Default argument
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>fn</span>(<span style=color:#000>arg1</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#39;default&#39;</span>)<span style=color:#000>:</span> <span style=color:#000>ReturnType</span> {}
</span></span><span style=display:flex><span><span style=color:#177500>// Arrow function
</span></span></span><span style=display:flex><span><span style=color:#177500></span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>)<span style=color:#000>:</span> <span style=color:#000>ReturnType</span> <span style=color:#000>=&gt;</span> { ...; <span style=color:#a90d91>return</span> <span style=color:#000>value</span>; }
</span></span><span style=display:flex><span><span style=color:#177500>// or
</span></span></span><span style=display:flex><span><span style=color:#177500></span>(<span style=color:#000>arg1</span>: <span style=color:#a90d91>Type</span>)<span style=color:#000>:</span> <span style=color:#000>ReturnType</span> <span style=color:#000>=&gt;</span> <span style=color:#000>value</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// this typing  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>fn</span>(<span style=color:#a90d91>this</span><span style=color:#000>:</span> <span style=color:#000>Foo</span>, <span style=color:#000>arg1</span>: <span style=color:#a90d91>string</span>) {}
</span></span><span style=display:flex><span><span style=color:#177500>// Overloads  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>conv</span>(<span style=color:#000>a</span>: <span style=color:#a90d91>string</span>)<span style=color:#000>:</span> <span style=color:#a90d91>number</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>conv</span>(<span style=color:#000>a</span>: <span style=color:#a90d91>number</span>)<span style=color:#000>:</span> <span style=color:#a90d91>string</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>conv</span>(<span style=color:#000>a</span>: <span style=color:#a90d91>string</span> <span style=color:#000>|</span> <span style=color:#a90d91>number</span>)<span style=color:#000>:</span> <span style=color:#a90d91>string</span> <span style=color:#000>|</span> <span style=color:#a90d91>number</span> {
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Call Signatures
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>DescribableFunction</span> <span style=color:#000>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#000>description</span>: <span style=color:#a90d91>string</span>;
</span></span><span style=display:flex><span>  (<span style=color:#000>someArg</span>: <span style=color:#a90d91>number</span>)<span style=color:#000>:</span> <span style=color:#a90d91>boolean</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>doSomething</span>(<span style=color:#000>fn</span>: <span style=color:#a90d91>DescribableFunction</span>) {
</span></span><span style=display:flex><span>  <span style=color:#000>console</span>.<span style=color:#000>log</span>(<span style=color:#000>fn</span>.<span style=color:#000>description</span> <span style=color:#000>+</span> <span style=color:#c41a16>&#34; returned &#34;</span> <span style=color:#000>+</span> <span style=color:#000>fn</span>(<span style=color:#1c01ce>6</span>));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Construct Signatures
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>SomeConstructor</span> <span style=color:#000>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a90d91>new</span> (<span style=color:#000>s</span>: <span style=color:#a90d91>string</span>)<span style=color:#000>:</span> <span style=color:#000>SomeObject</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>fn</span>(<span style=color:#000>ctor</span>: <span style=color:#a90d91>SomeConstructor</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a90d91>return</span> <span style=color:#a90d91>new</span> <span style=color:#000>ctor</span>(<span style=color:#c41a16>&#34;hello&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Generic Functions
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>firstElement</span>&lt;<span style=color:#000>Type</span>&gt;(<span style=color:#000>arr</span>: <span style=color:#a90d91>Type</span>[])<span style=color:#000>:</span> <span style=color:#000>Type</span> <span style=color:#000>|</span> <span style=color:#a90d91>undefined</span> {
</span></span><span style=display:flex><span>  <span style=color:#a90d91>return</span> <span style=color:#000>arr</span>[<span style=color:#1c01ce>0</span>];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Constraints
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>longest</span>&lt;<span style=color:#000>Type</span> <span style=color:#836c28>extends</span> { <span style=color:#836c28>length</span><span style=color:#000>:</span> <span style=color:#836c28>number</span> }&gt;(<span style=color:#000>a</span>: <span style=color:#a90d91>Type</span>, <span style=color:#000>b</span>: <span style=color:#a90d91>Type</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a90d91>if</span> (<span style=color:#000>a</span>.<span style=color:#000>length</span> <span style=color:#000>&gt;=</span> <span style=color:#000>b</span>.<span style=color:#000>length</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>return</span> <span style=color:#000>a</span>;
</span></span><span style=display:flex><span>  } <span style=color:#a90d91>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>return</span> <span style=color:#000>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#177500>// longerArray is of type &#39;number[]&#39;
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>longerArray</span> <span style=color:#000>=</span> <span style=color:#000>longest</span>([<span style=color:#1c01ce>1</span>, <span style=color:#1c01ce>2</span>], [<span style=color:#1c01ce>1</span>, <span style=color:#1c01ce>2</span>, <span style=color:#1c01ce>3</span>]);
</span></span><span style=display:flex><span><span style=color:#177500>// longerString is of type &#39;alice&#39; | &#39;bob&#39;
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>longerString</span> <span style=color:#000>=</span> <span style=color:#000>longest</span>(<span style=color:#c41a16>&#34;alice&#34;</span>, <span style=color:#c41a16>&#34;bob&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#177500>// Error! Numbers don&#39;t have a &#39;length&#39; property
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>notOK</span> <span style=color:#000>=</span> <span style=color:#000>longest</span>(<span style=color:#1c01ce>10</span>, <span style=color:#1c01ce>100</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Working with Constrained Values
</span></span></span><span style=display:flex><span><span style=color:#177500>// 期望返回 Type，而不是具有{ length: number }约束的类型。即期望子类，返回了父类，会导致属性变少
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>minimumLength</span>&lt;<span style=color:#000>Type</span> <span style=color:#836c28>extends</span> { <span style=color:#836c28>length</span><span style=color:#000>:</span> <span style=color:#836c28>number</span> }&gt;(
</span></span><span style=display:flex><span>  <span style=color:#000>obj</span>: <span style=color:#a90d91>Type</span>,
</span></span><span style=display:flex><span>  <span style=color:#000>minimum</span>: <span style=color:#a90d91>number</span>
</span></span><span style=display:flex><span>)<span style=color:#000>:</span> <span style=color:#000>Type</span> {
</span></span><span style=display:flex><span>  <span style=color:#a90d91>if</span> (<span style=color:#000>obj</span>.<span style=color:#000>length</span> <span style=color:#000>&gt;=</span> <span style=color:#000>minimum</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>return</span> <span style=color:#000>obj</span>;
</span></span><span style=display:flex><span>  } <span style=color:#a90d91>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>return</span> { <span style=color:#000>length</span>: <span style=color:#a90d91>minimum</span> }; <span style=color:#177500>// Type &#39;{ length: number; }&#39; is not assignable to type &#39;Type&#39;.
</span></span></span><span style=display:flex><span><span style=color:#177500></span>    <span style=color:#177500>// &#39;{ length: number; }&#39; is assignable to the constraint of type &#39;Type&#39;, but &#39;Type&#39; could be instantiated with a different subtype of constraint &#39;{ length: number; }&#39;
</span></span></span><span style=display:flex><span><span style=color:#177500></span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Rule: If a type parameter only appears in one location, strongly reconsider if you actually need it
</span></span></span><span style=display:flex><span><span style=color:#177500>// Rule: Always use as few type parameters as possible
</span></span></span><span style=display:flex><span><span style=color:#177500>// Rule: When possible, use the type parameter itself rather than constraining it
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>// 函数重载
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>makeDate</span>(<span style=color:#000>timestamp</span>: <span style=color:#a90d91>number</span>)<span style=color:#000>:</span> <span style=color:#a90d91>Date</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>makeDate</span>(<span style=color:#000>m</span>: <span style=color:#a90d91>number</span>, <span style=color:#000>d</span>: <span style=color:#a90d91>number</span>, <span style=color:#000>y</span>: <span style=color:#a90d91>number</span>)<span style=color:#000>:</span> <span style=color:#a90d91>Date</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// 上面两个为函数重载签名
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>makeDate</span>(<span style=color:#000>mOrTimestamp</span>: <span style=color:#a90d91>number</span>, <span style=color:#000>d?</span>: <span style=color:#a90d91>number</span>, <span style=color:#000>y?</span>: <span style=color:#a90d91>number</span>)<span style=color:#000>:</span> <span style=color:#a90d91>Date</span> {
</span></span><span style=display:flex><span>  <span style=color:#a90d91>if</span> (<span style=color:#000>d</span> <span style=color:#000>!==</span> <span style=color:#a90d91>undefined</span> <span style=color:#000>&amp;&amp;</span> <span style=color:#000>y</span> <span style=color:#000>!==</span> <span style=color:#a90d91>undefined</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>return</span> <span style=color:#a90d91>new</span> <span style=color:#a90d91>Date</span>(<span style=color:#000>y</span>, <span style=color:#000>mOrTimestamp</span>, <span style=color:#000>d</span>);
</span></span><span style=display:flex><span>  } <span style=color:#a90d91>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>return</span> <span style=color:#a90d91>new</span> <span style=color:#a90d91>Date</span>(<span style=color:#000>mOrTimestamp</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a90d91>const</span> <span style=color:#000>d1</span> <span style=color:#000>=</span> <span style=color:#000>makeDate</span>(<span style=color:#1c01ce>12345678</span>);
</span></span><span style=display:flex><span><span style=color:#a90d91>const</span> <span style=color:#000>d2</span> <span style=color:#000>=</span> <span style=color:#000>makeDate</span>(<span style=color:#1c01ce>5</span>, <span style=color:#1c01ce>5</span>, <span style=color:#1c01ce>5</span>);
</span></span><span style=display:flex><span><span style=color:#a90d91>const</span> <span style=color:#000>d3</span> <span style=color:#000>=</span> <span style=color:#000>makeDate</span>(<span style=color:#1c01ce>1</span>, <span style=color:#1c01ce>3</span>);
</span></span><span style=display:flex><span><span style=color:#177500>// Always prefer parameters with union types instead of overloads when possible
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Enum
</span></span></span><span style=display:flex><span><span style=color:#177500>// Unlike most TypeScript features, this is not a type-level addition to JavaScript but something added to the language and runtime.
</span></span></span><span style=display:flex><span><span style=color:#177500>// Because of this, it’s a feature which you should know exists, but maybe hold off on using unless you are sure
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>enum</span> <span style=color:#000>Color</span> {<span style=color:#000>Red</span>, <span style=color:#000>Green</span>, <span style=color:#000>Blue</span> <span style=color:#000>=</span> <span style=color:#1c01ce>4</span>} <span style=color:#177500>// default get Red=0, all of the following members are auto-incremented Green=1, except you give.
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>c</span>: <span style=color:#a90d91>Color</span> <span style=color:#000>=</span> <span style=color:#000>Color</span>.<span style=color:#000>Green</span>
</span></span><span style=display:flex><span><span style=color:#177500>// enum 有两种，value 是 number（默认）或 string 的。
</span></span></span><span style=display:flex><span><span style=color:#177500>// !!!numeric enums members also get a reverse mapping from enum values to enum names, for example:
</span></span></span><span style=display:flex><span><span style=color:#177500>// !!! careful with numeric enum iteration
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>enum</span> <span style=color:#000>LogLevel</span> {
</span></span><span style=display:flex><span>  <span style=color:#000>ERROR</span>,
</span></span><span style=display:flex><span>  <span style=color:#000>WARN</span>,
</span></span><span style=display:flex><span>  <span style=color:#000>INFO</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a90d91>for</span> (<span style=color:#a90d91>let</span> <span style=color:#000>element</span> <span style=color:#a90d91>in</span> <span style=color:#000>LogLevel</span>) {
</span></span><span style=display:flex><span>        <span style=color:#177500>// 先遍历 index，再遍历 value
</span></span></span><span style=display:flex><span><span style=color:#177500></span>        <span style=color:#000>console</span>.<span style=color:#000>log</span>(<span style=color:#000>element</span> <span style=color:#000>+</span><span style=color:#c41a16>&#34; - &#34;</span><span style=color:#000>+</span> <span style=color:#000>LogLevel</span>[<span style=color:#000>element</span>]);<span style=color:#177500>// output
</span></span></span><span style=display:flex><span><span style=color:#177500></span>        <span style=color:#177500>// [LOG]: &#34;0 - ERROR&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500></span>        <span style=color:#177500>// [LOG]: &#34;1 - WARN&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500></span>        <span style=color:#177500>// [LOG]: &#34;2 - INFO&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500></span>        <span style=color:#177500>// [LOG]: &#34;ERROR - 0&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500></span>        <span style=color:#177500>// [LOG]: &#34;WARN - 1&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500></span>        <span style=color:#177500>// [LOG]: &#34;INFO - 2&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500></span>}
</span></span><span style=display:flex><span><span style=color:#177500>// string value enum 没有上面这个问题。
</span></span></span><span style=display:flex><span><span style=color:#177500>// 在编译内部，ts 编译得到一个 name-&gt;value value-&gt;name 的双向 map
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>enum</span> <span style=color:#000>Enum</span> {
</span></span><span style=display:flex><span>  <span style=color:#000>VAL</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// tsc output
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#c41a16>&#34;use strict&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>var</span> <span style=color:#000>Enum</span>;
</span></span><span style=display:flex><span>(<span style=color:#a90d91>function</span> (<span style=color:#000>Enum</span>) {
</span></span><span style=display:flex><span>    <span style=color:#000>Enum</span>[<span style=color:#000>Enum</span>[<span style=color:#c41a16>&#34;VAL&#34;</span>] <span style=color:#000>=</span> <span style=color:#1c01ce>0</span>] <span style=color:#000>=</span> <span style=color:#c41a16>&#34;VAL&#34;</span>;
</span></span><span style=display:flex><span>})(<span style=color:#000>Enum</span> <span style=color:#000>||</span> (<span style=color:#000>Enum</span> <span style=color:#000>=</span> {}));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// for in 是 ES5 标准，遍历 key.  in 会遍历原型链 prototype 上面的属性。非底层代码，禁止使用 for..in.
</span></span></span><span style=display:flex><span><span style=color:#177500>// for of 是 ES6 标准，遍历 value.
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>// 语法上 enum 允许 string value 和 numeric value 并存，但是代码业务含义
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>enum</span> <span style=color:#000>BooleanLikeHeterogeneousEnum</span> {
</span></span><span style=display:flex><span>  <span style=color:#000>No</span> <span style=color:#000>=</span> <span style=color:#1c01ce>0</span>,
</span></span><span style=display:flex><span>  <span style=color:#000>Yes</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#34;YES&#34;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Try to use ts.forEach, ts.map, and ts.filter instead of loops when it is not strongly inconvenient.
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Type alias
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Name</span> <span style=color:#000>=</span> <span style=color:#a90d91>string</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Direction</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#39;left&#39;</span> <span style=color:#000>|</span> <span style=color:#c41a16>&#39;right&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>ElementCreator</span> <span style=color:#000>=</span> (<span style=color:#a90d91>type</span><span style=color:#000>:</span> <span style=color:#a90d91>string</span>) <span style=color:#000>=&gt;</span> <span style=color:#000>Element</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Point</span> <span style=color:#000>=</span> { <span style=color:#000>x</span>: <span style=color:#a90d91>number</span>, <span style=color:#000>y</span>: <span style=color:#a90d91>number</span> };
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Point3D</span> <span style=color:#000>=</span> <span style=color:#000>Point</span> <span style=color:#000>&amp;</span> { <span style=color:#000>z</span>: <span style=color:#a90d91>number</span> };
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>PointProp</span> <span style=color:#000>=</span> <span style=color:#a90d91>keyof</span> <span style=color:#000>Point</span>; <span style=color:#177500>// &#39;x&#39; | &#39;y&#39;
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>point</span>: <span style=color:#a90d91>Point</span> <span style=color:#000>=</span> { <span style=color:#000>x</span>: <span style=color:#a90d91>1</span>, <span style=color:#000>y</span>: <span style=color:#a90d91>2</span> };
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>PtValProp</span> <span style=color:#000>=</span> <span style=color:#a90d91>keyof</span> <span style=color:#a90d91>typeof</span> <span style=color:#000>point</span>; <span style=color:#177500>// &#39;x&#39; | &#39;y&#39;
</span></span></span><span style=display:flex><span><span style=color:#177500>// Extending a type via intersections
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Animal</span> <span style=color:#000>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#000>name</span>: <span style=color:#a90d91>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Bear</span> <span style=color:#000>=</span> <span style=color:#000>Animal</span> <span style=color:#000>&amp;</span> { 
</span></span><span style=display:flex><span>  <span style=color:#000>honey</span>: <span style=color:#a90d91>boolean</span> 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// type alias , interface 区别
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Generics
</span></span></span><span style=display:flex><span><span style=color:#177500>// Function using type parameters
</span></span></span><span style=display:flex><span><span style=color:#177500></span>&lt;<span style=color:#000>T</span>&gt;(<span style=color:#000>items</span>: <span style=color:#a90d91>T</span>[], <span style=color:#000>callback</span><span style=color:#000>:</span> (<span style=color:#000>item</span>: <span style=color:#a90d91>T</span>) <span style=color:#000>=&gt;</span> <span style=color:#000>T</span>)<span style=color:#000>:</span> <span style=color:#000>T</span>[]
</span></span><span style=display:flex><span><span style=color:#177500>// Interface with multiple types  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>interface</span> <span style=color:#000>Pair</span>&lt;<span style=color:#000>T1</span><span style=color:#000>,</span> <span style=color:#836c28>T2</span>&gt; {
</span></span><span style=display:flex><span>    <span style=color:#000>first</span>: <span style=color:#a90d91>T1</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>second</span>: <span style=color:#a90d91>T2</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Constrained type parameter
</span></span></span><span style=display:flex><span><span style=color:#177500></span>&lt;<span style=color:#000>T</span> <span style=color:#836c28>extends</span> <span style=color:#836c28>ConstrainedType</span>&gt;()<span style=color:#000>:</span> <span style=color:#000>T</span>
</span></span><span style=display:flex><span><span style=color:#177500>// Default type parameter  
</span></span></span><span style=display:flex><span><span style=color:#177500></span>&lt;<span style=color:#000>T</span> <span style=color:#000>=</span> <span style=color:#836c28>DefaultType</span>&gt;()<span style=color:#000>:</span> <span style=color:#000>T</span>
</span></span><span style=display:flex><span><span style=color:#177500>// Constrained and default type parameter
</span></span></span><span style=display:flex><span><span style=color:#177500></span>&lt;<span style=color:#000>T</span> <span style=color:#836c28>extends</span> <span style=color:#836c28>ConstrainedType </span><span style=color:#000>=</span> <span style=color:#836c28>DefaultType</span>&gt;()<span style=color:#000>:</span> <span style=color:#000>T</span>
</span></span><span style=display:flex><span><span style=color:#177500>// Generic tuples
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Arr</span> <span style=color:#000>=</span> <span style=color:#a90d91>readonly</span> <span style=color:#a90d91>any</span>[];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>concat</span>&lt;<span style=color:#000>U</span> <span style=color:#836c28>extends</span> <span style=color:#836c28>Arr</span><span style=color:#000>,</span> <span style=color:#836c28>V</span> <span style=color:#836c28>extends</span> <span style=color:#836c28>Arr</span>&gt;(<span style=color:#000>a</span>: <span style=color:#a90d91>U</span>, <span style=color:#000>b</span>: <span style=color:#a90d91>V</span>)<span style=color:#000>:</span>
</span></span><span style=display:flex><span>[...<span style=color:#000>U</span>, ...<span style=color:#000>V</span>] { <span style=color:#a90d91>return</span> [...<span style=color:#000>a</span>, ...<span style=color:#000>b</span>] }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#a90d91>const</span> <span style=color:#000>strictResult</span> <span style=color:#000>=</span> <span style=color:#000>concat</span>([<span style=color:#1c01ce>1</span>, <span style=color:#1c01ce>2</span>] <span style=color:#a90d91>as</span> <span style=color:#a90d91>const</span>, [<span style=color:#c41a16>&#39;3&#39;</span>, <span style=color:#c41a16>&#39;4&#39;</span>] <span style=color:#a90d91>as</span> <span style=color:#a90d91>const</span>);
</span></span><span style=display:flex><span><span style=color:#a90d91>const</span> <span style=color:#000>relaxedResult</span> <span style=color:#000>=</span> <span style=color:#000>concat</span>([<span style=color:#1c01ce>1</span>, <span style=color:#1c01ce>2</span>], [<span style=color:#c41a16>&#39;3&#39;</span>, <span style=color:#c41a16>&#39;4&#39;</span>]);
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#177500>// strictResult is of type [1, 2, &#39;3&#39;, &#39;4&#39;]
</span></span></span><span style=display:flex><span><span style=color:#177500>// relaxedResult is of type (string | number)[]
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Index, mapped, and conditional types
</span></span></span><span style=display:flex><span><span style=color:#177500>// Index type query (keyof)
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Point</span> <span style=color:#000>=</span> { <span style=color:#000>x</span>: <span style=color:#a90d91>number</span>, <span style=color:#000>y</span>: <span style=color:#a90d91>number</span> };
</span></span><span style=display:flex><span><span style=color:#a90d91>let</span> <span style=color:#000>pointProp</span>: <span style=color:#a90d91>keyof</span> <span style=color:#000>Point</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#39;x&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>getProp</span>&lt;<span style=color:#000>T</span><span style=color:#000>,</span> <span style=color:#836c28>K</span> <span style=color:#836c28>extends</span> <span style=color:#836c28>keyof</span> <span style=color:#836c28>T</span>&gt;(
</span></span><span style=display:flex><span>    <span style=color:#000>val</span>: <span style=color:#a90d91>T</span>,
</span></span><span style=display:flex><span>    <span style=color:#000>propName</span>: <span style=color:#a90d91>K</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>)<span style=color:#000>:</span> <span style=color:#000>T</span>[<span style=color:#000>K</span>] { ... }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Mapped types
</span></span></span><span style=display:flex><span><span style=color:#177500>// see more: https://www.typescriptlang.org/docs/handbook/utility-types.html
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Stringify</span>&lt;<span style=color:#000>T</span>&gt; <span style=color:#000>=</span> { [<span style=color:#000>P</span> <span style=color:#a90d91>in</span> <span style=color:#a90d91>keyof</span> <span style=color:#000>T</span>]<span style=color:#000>:</span> <span style=color:#a90d91>string</span>; }
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Partial</span>&lt;<span style=color:#000>T</span>&gt; <span style=color:#000>=</span> { [<span style=color:#000>P</span> <span style=color:#a90d91>in</span> <span style=color:#a90d91>keyof</span> <span style=color:#000>T</span>]<span style=color:#000>?:</span> <span style=color:#000>T</span>[<span style=color:#000>P</span>]; }
</span></span><span style=display:flex><span><span style=color:#177500>// Conditional types  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Swapper</span> <span style=color:#000>=</span> &lt;<span style=color:#000>T</span> <span style=color:#836c28>extends</span> <span style=color:#836c28>number</span> <span style=color:#000>|</span> <span style=color:#836c28>string</span>&gt;
</span></span><span style=display:flex><span>    (<span style=color:#000>value</span>: <span style=color:#a90d91>T</span>) <span style=color:#000>=&gt;</span> <span style=color:#000>T</span> <span style=color:#a90d91>extends</span> <span style=color:#a90d91>number</span> <span style=color:#000>?</span> <span style=color:#a90d91>string</span> <span style=color:#000>:</span> <span style=color:#a90d91>number</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span>(<span style=color:#000>value</span>: <span style=color:#a90d91>number</span>) <span style=color:#000>=&gt;</span> <span style=color:#a90d91>string</span> <span style=color:#177500>// if T is number, or
</span></span></span><span style=display:flex><span><span style=color:#177500></span>(<span style=color:#000>value</span>: <span style=color:#a90d91>string</span>) <span style=color:#000>=&gt;</span> <span style=color:#a90d91>number</span> <span style=color:#177500>// if T is string
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>// Conditional mapped types
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>interface</span> <span style=color:#000>Person</span> {
</span></span><span style=display:flex><span>    <span style=color:#000>firstName</span>: <span style=color:#a90d91>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>lastName</span>: <span style=color:#a90d91>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#000>age</span>: <span style=color:#a90d91>number</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>StringProps</span>&lt;<span style=color:#000>T</span>&gt; <span style=color:#000>=</span> {
</span></span><span style=display:flex><span>    [<span style=color:#000>K</span> <span style=color:#a90d91>in</span> <span style=color:#a90d91>keyof</span> <span style=color:#000>T</span>]<span style=color:#000>:</span> <span style=color:#000>T</span>[<span style=color:#000>K</span>] <span style=color:#a90d91>extends</span> <span style=color:#a90d91>string</span> <span style=color:#000>?</span> <span style=color:#000>K</span> : <span style=color:#a90d91>never</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>PersonStrings</span> <span style=color:#000>=</span> <span style=color:#000>StringProps</span>&lt;<span style=color:#000>Person</span>&gt;;
</span></span><span style=display:flex><span><span style=color:#177500>// PersonStrings is &#34;firstName&#34; | &#34;lastName&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Utility types
</span></span></span><span style=display:flex><span><span style=color:#177500>// Partial  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>Partial</span><span style=color:#000>&lt;</span>{ <span style=color:#000>x</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>y</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>z</span>: <span style=color:#a90d91>number</span>; }<span style=color:#000>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{ <span style=color:#000>x?</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>y?</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>z?</span>: <span style=color:#a90d91>number</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Readonly
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>Readonly</span><span style=color:#000>&lt;</span>{ <span style=color:#000>x</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>y</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>z</span>: <span style=color:#a90d91>number</span>; }<span style=color:#000>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{
</span></span><span style=display:flex><span>    <span style=color:#a90d91>readonly</span> <span style=color:#000>x</span>: <span style=color:#a90d91>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a90d91>readonly</span> <span style=color:#000>y</span>: <span style=color:#a90d91>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a90d91>readonly</span> <span style=color:#000>z</span>: <span style=color:#a90d91>number</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Pick
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>Pick</span><span style=color:#000>&lt;</span>{ <span style=color:#000>x</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>y</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>z</span>: <span style=color:#a90d91>number</span>; }, <span style=color:#c41a16>&#39;x&#39;</span> <span style=color:#000>|</span> <span style=color:#c41a16>&#39;y&#39;</span><span style=color:#000>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{ <span style=color:#000>x</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>y</span>: <span style=color:#a90d91>number</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Record, 和 index signature 区别是 后者 key 限制在 string number symbol
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>Record</span><span style=color:#000>&lt;</span><span style=color:#c41a16>&#39;x&#39;</span> <span style=color:#000>|</span> <span style=color:#c41a16>&#39;y&#39;</span> <span style=color:#000>|</span> <span style=color:#c41a16>&#39;z&#39;</span>, <span style=color:#a90d91>number</span><span style=color:#000>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span>{ <span style=color:#000>x</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>y</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>z</span>: <span style=color:#a90d91>number</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Exclude  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Excluded</span> <span style=color:#000>=</span> <span style=color:#000>Exclude</span>&lt;<span style=color:#000>string</span> <span style=color:#000>|</span> <span style=color:#836c28>number</span><span style=color:#000>,</span> <span style=color:#836c28>string</span>&gt;;
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>number</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Extract  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Extracted</span> <span style=color:#000>=</span> <span style=color:#000>Extract</span>&lt;<span style=color:#000>string</span> <span style=color:#000>|</span> <span style=color:#836c28>number</span><span style=color:#000>,</span> <span style=color:#836c28>string</span>&gt;;
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>string</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// NonNullable  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>NonNull</span> <span style=color:#000>=</span> <span style=color:#000>NonNullable</span>&lt;<span style=color:#000>string</span> <span style=color:#000>|</span> <span style=color:#836c28>number</span> <span style=color:#000>|</span> <span style=color:#836c28>void</span>&gt;;
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>string</span> <span style=color:#000>|</span> <span style=color:#a90d91>number</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// ReturnType
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>ReturnValue</span> <span style=color:#000>=</span> <span style=color:#000>ReturnType</span><span style=color:#000>&lt;</span>() <span style=color:#000>=&gt;</span> <span style=color:#a90d91>string</span><span style=color:#000>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>string</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// InstanceType
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>class</span> <span style=color:#000>Renderer() {</span>}
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Instance</span> <span style=color:#000>=</span> <span style=color:#000>InstanceType</span>&lt;<span style=color:#000>typeof</span> <span style=color:#836c28>Renderer</span>&gt;;
</span></span><span style=display:flex><span><span style=color:#177500>// is equivalent to
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>Renderer</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// Type guards
</span></span></span><span style=display:flex><span><span style=color:#177500>// Type predicates  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>function</span> <span style=color:#000>isThing</span>(<span style=color:#000>val</span>: <span style=color:#a90d91>unknown</span>)<span style=color:#000>:</span> <span style=color:#000>val</span> <span style=color:#a90d91>is</span> <span style=color:#000>Thing</span> {
</span></span><span style=display:flex><span>    <span style=color:#177500>// return true if val is a Thing
</span></span></span><span style=display:flex><span><span style=color:#177500></span>}
</span></span><span style=display:flex><span><span style=color:#a90d91>if</span> (<span style=color:#000>isThing</span>(<span style=color:#000>value</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#177500>// value is of type Thing
</span></span></span><span style=display:flex><span><span style=color:#177500></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- typeof
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;string&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;number&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;bigint&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;boolean&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;symbol&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;undefined&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;object&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;function&#34;
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>declare</span> <span style=color:#000>value</span>: <span style=color:#a90d91>string</span> <span style=color:#000>|</span> <span style=color:#a90d91>number</span> <span style=color:#000>|</span> <span style=color:#a90d91>boolean</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>const</span> <span style=color:#000>isBoolean</span> <span style=color:#000>=</span> <span style=color:#a90d91>typeof</span> <span style=color:#000>value</span> <span style=color:#000>===</span> <span style=color:#c41a16>&#34;boolean&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>if</span> (<span style=color:#a90d91>typeof</span> <span style=color:#000>value</span> <span style=color:#000>===</span> <span style=color:#c41a16>&#34;number&#34;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#177500>// value is of type Number
</span></span></span><span style=display:flex><span><span style=color:#177500></span>} <span style=color:#a90d91>else</span> <span style=color:#a90d91>if</span> (<span style=color:#000>isBoolean</span>) {
</span></span><span style=display:flex><span>    <span style=color:#177500>// value is of type Boolean
</span></span></span><span style=display:flex><span><span style=color:#177500></span>} <span style=color:#a90d91>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#177500>// value is a string
</span></span></span><span style=display:flex><span><span style=color:#177500></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// False
</span></span></span><span style=display:flex><span><span style=color:#177500>// 0
</span></span></span><span style=display:flex><span><span style=color:#177500>// NaN
</span></span></span><span style=display:flex><span><span style=color:#177500>// &#34;&#34; (the empty string)
</span></span></span><span style=display:flex><span><span style=color:#177500>// 0n (the bigint version of zero)
</span></span></span><span style=display:flex><span><span style=color:#177500>// null
</span></span></span><span style=display:flex><span><span style=color:#177500>// undefined
</span></span></span><span style=display:flex><span><span style=color:#177500></span>
</span></span><span style=display:flex><span><span style=color:#177500>// instanceof
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>declare</span> <span style=color:#000>value</span>: <span style=color:#a90d91>Date</span> <span style=color:#000>|</span> <span style=color:#a90d91>Error</span> <span style=color:#000>|</span> <span style=color:#000>MyClass</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>const</span> <span style=color:#000>isMyClass</span> <span style=color:#000>=</span> <span style=color:#000>value</span> <span style=color:#a90d91>instanceof</span> <span style=color:#000>MyClass</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>if</span> (<span style=color:#000>value</span> <span style=color:#a90d91>instanceof</span> <span style=color:#a90d91>Date</span>) {
</span></span><span style=display:flex><span>    <span style=color:#177500>// value is a Date
</span></span></span><span style=display:flex><span><span style=color:#177500></span>} <span style=color:#a90d91>else</span> <span style=color:#a90d91>if</span> (<span style=color:#000>isMyClass</span>) {
</span></span><span style=display:flex><span>    <span style=color:#177500>// value is an instance of MyClass
</span></span></span><span style=display:flex><span><span style=color:#177500></span>} <span style=color:#a90d91>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#177500>// value is an Error
</span></span></span><span style=display:flex><span><span style=color:#177500></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>// in 属性和方法
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>interface</span> <span style=color:#000>Dog</span> { <span style=color:#000>woof</span>()<span style=color:#000>:</span> <span style=color:#a90d91>void</span>; }
</span></span><span style=display:flex><span><span style=color:#a90d91>interface</span> <span style=color:#000>Cat</span> { <span style=color:#000>meow</span>()<span style=color:#000>:</span> <span style=color:#a90d91>void</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>speak</span>(<span style=color:#000>pet</span>: <span style=color:#a90d91>Dog</span> <span style=color:#000>|</span> <span style=color:#000>Cat</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>if</span> (<span style=color:#c41a16>&#39;woof&#39;</span> <span style=color:#a90d91>in</span> <span style=color:#000>pet</span>) {
</span></span><span style=display:flex><span>        <span style=color:#000>pet</span>.<span style=color:#000>woof</span>()
</span></span><span style=display:flex><span>    } <span style=color:#a90d91>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#000>pet</span>.<span style=color:#000>meow</span>()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Assertions
</span></span></span><span style=display:flex><span><span style=color:#177500>// Type
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>val</span> <span style=color:#000>=</span> <span style=color:#000>someValue</span> <span style=color:#a90d91>as</span> <span style=color:#a90d91>string</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// or
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>val</span> <span style=color:#000>=</span> &lt;<span style=color:#000>string</span>&gt;<span style=color:#000>someValue</span>;
</span></span><span style=display:flex><span><span style=color:#000>Const</span> (<span style=color:#000>immutable</span> <span style=color:#000>value</span>)
</span></span><span style=display:flex><span><span style=color:#a90d91>let</span> <span style=color:#000>point</span> <span style=color:#000>=</span> { <span style=color:#000>x</span>: <span style=color:#a90d91>20</span>, <span style=color:#000>y</span>: <span style=color:#a90d91>30</span> } <span style=color:#a90d91>as</span> <span style=color:#a90d91>const</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// or
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>let</span> <span style=color:#000>point</span> <span style=color:#000>=</span> &lt;<span style=color:#000>const</span>&gt;{ <span style=color:#000>x</span>: <span style=color:#a90d91>20</span>, <span style=color:#000>y</span>: <span style=color:#a90d91>30</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>function</span> <span style=color:#000>handle</span>(<span style=color:#000>url</span>:<span style=color:#a90d91>string</span>,<span style=color:#000>method</span><span style=color:#000>:</span> <span style=color:#c41a16>&#34;GET&#34;</span><span style=color:#000>|</span><span style=color:#c41a16>&#34;POST&#34;</span>){
</span></span><span style=display:flex><span>    <span style=color:#000>console</span>.<span style=color:#000>log</span>(<span style=color:#c41a16>&#34;handle&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>const</span> <span style=color:#000>req</span> <span style=color:#000>=</span> { <span style=color:#000>url</span><span style=color:#000>:</span> <span style=color:#c41a16>&#34;https://example.com&#34;</span>, <span style=color:#000>method</span><span style=color:#000>:</span> <span style=color:#c41a16>&#34;GET&#34;</span> };
</span></span><span style=display:flex><span><span style=color:#000>handle</span>(<span style=color:#000>req</span>.<span style=color:#000>url</span>, <span style=color:#000>req</span>.<span style=color:#000>method</span> <span style=color:#a90d91>as</span> <span style=color:#c41a16>&#34;GET&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#177500>// remove as &#34;GET&#34;, throw: Argument of type &#39;string&#39; is not assignable to parameter of type &#39;&#34;GET&#34; | &#34;POST&#34;&#39;.(2345)
</span></span></span><span style=display:flex><span><span style=color:#177500>// or
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>req</span> <span style=color:#000>=</span> { <span style=color:#000>url</span><span style=color:#000>:</span> <span style=color:#c41a16>&#34;https://example.com&#34;</span>, <span style=color:#000>method</span><span style=color:#000>:</span> <span style=color:#c41a16>&#34;GET&#34;</span> <span style=color:#a90d91>as</span> <span style=color:#c41a16>&#34;GET&#34;</span> };
</span></span><span style=display:flex><span><span style=color:#177500>// or convert to type literals
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>const</span> <span style=color:#000>req</span> <span style=color:#000>=</span> { <span style=color:#000>url</span><span style=color:#000>:</span> <span style=color:#c41a16>&#34;https://example.com&#34;</span>, <span style=color:#000>method</span><span style=color:#000>:</span> <span style=color:#c41a16>&#34;GET&#34;</span> } <span style=color:#a90d91>as</span> <span style=color:#a90d91>const</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Indexed Access Types
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>Person</span> <span style=color:#000>=</span> { <span style=color:#000>age</span>: <span style=color:#a90d91>number</span>; <span style=color:#000>name</span>: <span style=color:#a90d91>string</span>; <span style=color:#000>alive</span>: <span style=color:#a90d91>boolean</span> };
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>Age</span> <span style=color:#000>=</span> <span style=color:#000>Person</span>[<span style=color:#c41a16>&#34;age&#34;</span>]; <span style=color:#177500>// number
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>I1</span> <span style=color:#000>=</span> <span style=color:#000>Person</span>[<span style=color:#c41a16>&#34;age&#34;</span> <span style=color:#000>|</span> <span style=color:#c41a16>&#34;name&#34;</span>]; <span style=color:#177500>// type I1 = string | number
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>I2</span> <span style=color:#000>=</span> <span style=color:#000>Person</span>[<span style=color:#a90d91>keyof</span> <span style=color:#000>Person</span>]; <span style=color:#177500>// type I2 = string | number | boolean
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>type</span> <span style=color:#000>AliveOrName</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#34;alive&#34;</span> <span style=color:#000>|</span> <span style=color:#c41a16>&#34;name&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#a90d91>type</span> <span style=color:#000>I3</span> <span style=color:#000>=</span> <span style=color:#000>Person</span>[<span style=color:#000>AliveOrName</span>]; <span style=color:#177500>// type I3 = string | boolean
</span></span></span><span style=display:flex><span><span style=color:#177500></span>     
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#177500>//-------------------------------- Ambient declarations
</span></span></span><span style=display:flex><span><span style=color:#177500>// Global
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>declare</span> <span style=color:#a90d91>const</span> <span style=color:#000>$</span>: <span style=color:#a90d91>JQueryStatic</span>;
</span></span><span style=display:flex><span><span style=color:#177500>// Module
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>declare</span> <span style=color:#000>module</span> <span style=color:#c41a16>&#34;foo&#34;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>export</span> <span style=color:#a90d91>class</span> <span style=color:#000>Bar</span> { ... }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#177500>// Wildcard module  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>declare</span> <span style=color:#000>module</span> <span style=color:#c41a16>&#34;text!*&#34;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a90d91>const</span> <span style=color:#000>value</span>: <span style=color:#a90d91>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#a90d91>export</span> <span style=color:#a90d91>default</span> <span style=color:#000>value</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><nav class="post-nav fullwidth"><span>&larr; <a href=../../post/nodejs-as-githook/>在 githook 中调用 nodejs 脚本</a></span>
<span class=post-nav-next><a href=../../post/open-source-mental-health/>开源与心理健康[翻译]</a> &rarr;</span></nav></div><footer class=small><link rel=stylesheet href=//cdn.jsdelivr.net/gh/rstudio/markdown/inst/resources/prism-xcode.css><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js defer></script><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/copy-button.min.js defer></script><link rel=stylesheet href=//cdn.jsdelivr.net/npm/@xiee/utils/css/copy-button.min.css><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/heading-anchor.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/fullwidth.min.js defer></script><hr><p class=nav-bottom><span><a href=https://zhi.moe>xdh</a> © 2024</span>
<span class=menu-bottom><a href=../../categories/>分类</a> <a href=../../tags/>标签</a>
<a href=../../post/index.xml type=application/rss+xml title="RSS feed">订阅</a>
<a href=#>回到顶部</a></span></p></footer></body></html>