<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>scala uniform access principle - 新街记事</title>
<meta property="og:title" content="scala uniform access principle - 新街记事"><meta name=twitter:card content="summary"><meta property="description" content="虽然代码写的很水，但是我对各种编程语言一直比较感兴趣。除了工作中使用的 Java 之外，自己也了解 Python,Groovy,Scala,Kotlin,Clojure,Go,Rust.其中 Python 和 Scala 在工作中也偶尔使用。了解不同的编程语言语法对于编程思维的影响还是蛮有意思的。
例如，只会 Java 的开发者可能没有听过模式匹配 (pattern match). &amp;hellip;"><meta property="og:description" content="虽然代码写的很水，但是我对各种编程语言一直比较感兴趣。除了工作中使用的 Java 之外，自己也了解 Python,Groovy,Scala,Kotlin,Clojure,Go,Rust.其中 Python 和 Scala 在工作中也偶尔使用。了解不同的编程语言语法对于编程思维的影响还是蛮有意思的。
例如，只会 Java 的开发者可能没有听过模式匹配 (pattern match). &amp;hellip;"><link rel=stylesheet href=../../css/style.css><link rel=stylesheet href=../../css/fonts.css><link rel=stylesheet href=../../css/custom.css><link rel=icon type=image/png href=../../img/logo.png><link rel=apple-touch-icon href=../../img/logo.png><link rel=apple-touch-icon-precomposed href=../../img/logo.png></head><body class="single post"><div class=crop-h></div><div class=crop-v></div><div class=crop-c></div><nav class="nav-top small"><div class=logo><a href=../../>新街记事</a></div><div class=menu><span class=active><a href=../../post/>博客</a></span>
<span><a href=../../categories/%E7%BC%96%E7%A8%8B/>编程</a></span>
<span><a href=../../categories/%E7%BF%BB%E8%AF%91/>翻译</a></span>
<span><a href=../../categories/%E9%9A%8F%E6%83%B3/>随想</a></span>
<span><a href=../../search/>搜索</a></span></div></nav><div class=article-meta><h1 class=title>scala uniform access principle</h1><h3 class=meta-line><span><span class=date>2020-01-31</span>
</span><span class=term><a href=../../categories/%E7%BC%96%E7%A8%8B/ class=term-cat>编程</a>
<a href=../../tags/code/ class=term-tag>#code </a><a href=../../tags/scala/ class=term-tag>#scala</a></span></h3></div><div class=main><p>虽然代码写的很水，但是我对各种编程语言一直比较感兴趣。除了工作中使用的 Java 之外，自己也了解 Python,Groovy,Scala,Kotlin,Clojure,Go,Rust.其中 Python 和 Scala 在工作中也偶尔使用。了解不同的编程语言语法对于编程思维的影响还是蛮有意思的。<br>例如，只会 Java 的开发者可能没有听过模式匹配 (pattern match).在我学习了 Scala 之后，我对模式匹配的理解就是更强更优雅的 switch+if. 而在我看过 rust 和 elixir 语言中关于模式匹配之后，我对模式匹配的理解就完全不一样了。</p><p>这些语言中，论说对编程思维改变最大的当属 Clojure 莫属。Lisp 语言是一种非常优雅的语言。这种优雅的最大特点就是 Lisp(Clojure) 从语法上面做到了代码即数据。即 Clojure 的代码形式和其数据结构 list 的形式是一样的 (这也是 lisp 名字由来，LISt Processor).<br>这个特点的好处就是 Clojure 赋予了 list 这种数据结构强大的表达能力，可以在使用极其简练的语法在 list 数据结构实现复杂的逻辑。</p><blockquote><p>&ldquo;It is better to have 100 functions operate on one data structure than 10 functions on 10 data structures.&rdquo; —Alan Perlis</p></blockquote><p>尽可能的减少语法的规则，这种语法特点在 Scala 上面也有体现。</p><h2 id=uniform-access-principle>uniform access principle</h2><p>scala 中统一访问原则将 class 的方法和属性访问统一，都是通过<code>obj.mbr</code>访问。<br>这么做的好处是代码更加统一，而且重构更加方便。</p><blockquote><p>A function that takes no parameters, which is defined without any empty parentheses.<br>Invocations of parameter less functions may not supply parentheses.<br>This supports the uniform access principle, which enables the def to be changed into a val without<br>requiring a change to client code.</p></blockquote><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#a90d91>class</span> <span style=color:#3f6e75>Person</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>private</span> <span style=color:#a90d91>var</span> <span style=color:#000>privateName</span> <span style=color:#a90d91>=</span> <span style=color:#c41a16>&#34;&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a90d91>def</span> <span style=color:#000>name</span> <span style=color:#a90d91>=</span> <span style=color:#000>privateName</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a90d91>def</span> <span style=color:#000>name_=</span><span style=color:#000>(</span><span style=color:#000>value</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>String</span><span style=color:#000>)</span> <span style=color:#a90d91>=</span> <span style=color:#000>privateName</span> <span style=color:#a90d91>=</span> <span style=color:#000>value</span>
</span></span><span style=display:flex><span><span style=color:#000>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>val</span> <span style=color:#000>john</span> <span style=color:#a90d91>=</span> <span style=color:#a90d91>new</span> <span style=color:#3f6e75>Person</span>
</span></span><span style=display:flex><span><span style=color:#000>john</span><span style=color:#000>.</span><span style=color:#000>name</span> <span style=color:#a90d91>=</span> <span style=color:#c41a16>&#34;John Doe&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>println</span><span style=color:#000>(</span><span style=color:#000>john</span><span style=color:#000>.</span><span style=color:#000>name</span><span style=color:#000>)</span>
</span></span></code></pre></div><p>统一也体现在集合访问形式上，在 Scala 中，Map,List,Array 的元素访问都是通过<code>coll(ki)</code>形式。<code>ki</code>表示 key 或者 index.个人非常喜欢这种统一。</p><nav class="post-nav fullwidth"><span>&larr; <a href=../../post/docker-cmd-entrypoint-diff/>Docker CMD ENTRYPOINT 区别</a></span>
<span class=post-nav-next><a href=../../post/scala-for-impatient-2nd-highlights/>Highlights in Scala for Impatient 2nd</a> &rarr;</span></nav></div><footer class=small><link rel=stylesheet href=//cdn.jsdelivr.net/gh/rstudio/markdown/inst/resources/prism-xcode.css><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js defer></script><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/copy-button.min.js defer></script><link rel=stylesheet href=//cdn.jsdelivr.net/npm/@xiee/utils/css/copy-button.min.css><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/key-buttons.min.js defer></script><link rel=stylesheet href=//cdn.jsdelivr.net/npm/@xiee/utils/css/key-buttons.min.css><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/heading-anchor.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/fullwidth.min.js defer></script><hr><p class=nav-bottom><span><a href=https://zhi.moe>xdh</a> © 2024</span>
<span class=menu-bottom><a href=../../categories/>分类</a> <a href=../../tags/>标签</a>
<a href=../../post/index.xml type=application/rss+xml title="RSS feed">订阅</a>
<a href=#>回到顶部</a></span></p></footer></body></html>