<!doctype html><html lang=zh dir=zh><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=content-security-policy content="upgrade-insecure-requests"><title>IO-Java-Stream-Write-Reader - zhimoe</title><meta name=keywords content="读书,代码,架构,JVM,Java,Kotlin,Python,Rust"><meta name=author content="zhimoe"><meta property="og:title" content="IO-Java-Stream-Write-Reader"><meta property="og:site_name" content="zhimoe"><meta property="og:image" content="/img/author.jpg"><meta name=title content="IO-Java-Stream-Write-Reader - zhimoe"><meta name=description content="Captain your own Ship."><link rel="shortcut icon" href=https://zhimoe.github.io/img/favicon.ico><link rel=apple-touch-icon href=https://zhimoe.github.io/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=https://zhimoe.github.io/img/apple-touch-icon.png><link href=https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet type=text/css><link href=https://cdn.bootcdn.net/ajax/libs/imageviewer/1.1.0/viewer.min.css rel=stylesheet><link href="https://zhimoe.github.io/css/main.css?v=20230708" rel=stylesheet type=text/css><script async src="https://www.googletagmanager.com/gtag/js?id=G-CJJZFN2DZR"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CJJZFN2DZR")</script></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-Hans><div class="container one-collumn sidebar-position-left page-home"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle role=button style=opacity:1;top:0><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class="site-meta custom-logo"><div class=custom-logo-site-title><a href=https://zhimoe.github.io/ class=brand rel=start><span class=logo-line-before><i></i></span>
<span class=site-title>zhimoe</span>
<span class=logo-line-after><i></i></span></a></div><p class=site-subtitle>Captain your own Ship.</p></div><div class=site-nav-right><div class="toggle popup-trigger" style=opacity:1;top:0><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul id=menu class=menu><li class=menu-item><a href=https://zhimoe.github.io/ rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class=menu-item><a href=https://zhimoe.github.io/post/ rel=section><i class="menu-item-icon fa fa-fw fa-list-alt"></i><br>归档</a></li><li class=menu-item><a href=https://zhimoe.github.io/categories/%E7%BC%96%E7%A8%8B/ rel=section><i class="menu-item-icon fa fa-fw fa-wpexplorer"></i><br>编程</a></li><li class=menu-item><a href=https://zhimoe.github.io/categories/%E7%BF%BB%E8%AF%91/ rel=section><i class="menu-item-icon fa fa-fw fa-language"></i><br>翻译</a></li><li class=menu-item><a href=https://zhimoe.github.io/categories/%E9%9A%8F%E6%83%B3/ rel=section><i class="menu-item-icon fa fa-fw fa-bathtub"></i><br>随想</a></li><li class=menu-item><a href=https://zhimoe.github.io/about/ rel=section><i class="menu-item-icon fa fa-fw fa-grav"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><div class=search-icon><i class="fa fa-search"></i></div><div class=local-search-input-wrapper><input autocomplete=off placeholder=搜索关键字... spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off></div><div class=popup-btn-close><i class="fa fa-times-circle"></i></div></div><div id=local-search-result></div></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href=https://zhimoe.github.io/post/java-io-basic/ itemprop=url>IO-Java-Stream-Write-Reader</a></h1><div class=post-meta><span class=post-time><time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2016-03-01">2016-03-01</time></span>
<span class=post-category>&nbsp; | &nbsp;
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a class=post-category-list-link href=https://zhimoe.github.io/categories/%E7%BC%96%E7%A8%8B itemprop=url rel=index style=text-decoration:underline><span itemprop=name>编程</span></a>
&nbsp;</span></span></div></header><div class=post-body itemprop=articleBody><p>上次总结了 java 中不同读写文件的方法，这次总结一下基本的 IO 流。网上的总结大部分是以 Stream 和 Reader、Writer 来介绍的。这次从封装层次来介绍。</p><h3 id=概览>概览</h3><p><img src=https://jsd.cdn.zzko.cn/gh/zhimoe/zhimoe.pic@main/pic/java_io_stream_reader.4lgp0r6e14w0.webp alt="Java IO 继承图"></p><p>首先理解计算机文件格式都是二进制数据，例如文本，图片，视频，音频等，但是文本非常特殊，所以单独有一类封装设计。<br>对于非文本类的文件，一般是读取字节 (stream)，而对于文本类文件，则可以读取字符 (reader)<br>当然，文本文件也可以使用 inputstream 读取后再转换<code>Reader reader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);</code></p><h3 id=stream>stream</h3><p>首先是 byte 流，每次 read() 读取 8 bits，并用一个 int 的低八位保存：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>FileInputStream</span> <span style=color:#000>in</span> <span style=color:#000>=</span> <span style=color:#a90d91>null</span><span style=color:#000>;</span>
</span></span><span style=display:flex><span><span style=color:#000>FileOutputStream</span> <span style=color:#000>out</span> <span style=color:#000>=</span> <span style=color:#a90d91>null</span><span style=color:#000>;</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>try</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>in</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>FileInputStream</span><span style=color:#000>(</span><span style=color:#c41a16>&#34;xanadu.txt&#34;</span><span style=color:#000>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>out</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>FileOutputStream</span><span style=color:#000>(</span><span style=color:#c41a16>&#34;outagain.txt&#34;</span><span style=color:#000>);</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>int</span> <span style=color:#000>c</span><span style=color:#000>;</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>while</span> <span style=color:#000>((</span><span style=color:#000>c</span> <span style=color:#000>=</span> <span style=color:#000>in</span><span style=color:#000>.</span><span style=color:#836c28>read</span><span style=color:#000>())</span> <span style=color:#000>!=</span> <span style=color:#000>-</span><span style=color:#1c01ce>1</span><span style=color:#000>)</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>out</span><span style=color:#000>.</span><span style=color:#836c28>write</span><span style=color:#000>(</span><span style=color:#000>c</span><span style=color:#000>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#000>}</span> <span style=color:#a90d91>finally</span> <span style=color:#000>{</span> 
</span></span><span style=display:flex><span>    <span style=color:#a90d91>if</span> <span style=color:#000>(</span><span style=color:#000>in</span> <span style=color:#000>!=</span> <span style=color:#a90d91>null</span><span style=color:#000>)</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>in</span><span style=color:#000>.</span><span style=color:#836c28>close</span><span style=color:#000>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>if</span> <span style=color:#000>(</span><span style=color:#000>out</span> <span style=color:#000>!=</span> <span style=color:#a90d91>null</span><span style=color:#000>)</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>out</span><span style=color:#000>.</span><span style=color:#836c28>close</span><span style=color:#000>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span><span style=color:#000>}</span>
</span></span></code></pre></div><p>byte 流是很基础的流，接下来是字符流，使用 int 的低 16 位保存读取内容，一个汉字，使用上面那个字节流，需要读取 2 次，使用下面的字符流，只用一次。其实背后还是一个桥接<br>具体的对象体现：<br>FileReader extemds InputStreamReader,<br>FileWriter extends OutputStreamWriter</p><p>InputStreamReader:字节到字符的桥梁<br>OutputStreamWriter:字符到字节的桥梁：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>FileReader</span> <span style=color:#000>inputReader</span> <span style=color:#000>=</span> <span style=color:#a90d91>null</span><span style=color:#000>;</span>
</span></span><span style=display:flex><span><span style=color:#000>FileWriter</span> <span style=color:#000>outputStream</span> <span style=color:#000>=</span> <span style=color:#a90d91>null</span><span style=color:#000>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>try</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>inputReader</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>FileReader</span><span style=color:#000>(</span><span style=color:#c41a16>&#34;xanadu.txt&#34;</span><span style=color:#000>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>outputStream</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>FileWriter</span><span style=color:#000>(</span><span style=color:#c41a16>&#34;characteroutput.txt&#34;</span><span style=color:#000>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>int</span> <span style=color:#000>c</span><span style=color:#000>;</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>while</span> <span style=color:#000>((</span><span style=color:#000>c</span> <span style=color:#000>=</span> <span style=color:#000>inputReader</span><span style=color:#000>.</span><span style=color:#836c28>read</span><span style=color:#000>())</span> <span style=color:#000>!=</span> <span style=color:#000>-</span><span style=color:#1c01ce>1</span><span style=color:#000>)</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>outputStream</span><span style=color:#000>.</span><span style=color:#836c28>write</span><span style=color:#000>(</span><span style=color:#000>c</span><span style=color:#000>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span><span style=color:#000>}</span> <span style=color:#a90d91>finally</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>if</span> <span style=color:#000>(</span><span style=color:#000>inputReader</span> <span style=color:#000>!=</span> <span style=color:#a90d91>null</span><span style=color:#000>)</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>inputReader</span><span style=color:#000>.</span><span style=color:#836c28>close</span><span style=color:#000>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>if</span> <span style=color:#000>(</span><span style=color:#000>outputStream</span> <span style=color:#000>!=</span> <span style=color:#a90d91>null</span><span style=color:#000>)</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>outputStream</span><span style=color:#000>.</span><span style=color:#836c28>close</span><span style=color:#000>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span><span style=color:#000>}</span>
</span></span></code></pre></div><p>ByteArrayInputStream、StringBufferInputStream、FileInputStream 是三种基本的介质流，它们分别从 Byte 数组、StringBuffer、和本地文件中读取数据.StringBufferInputStream 已经被 Deprecated，设计错误，只是为了兼容。</p><p>File I/O 现在已经不推荐使用了，推荐 nio2 的 Path 及其工具类 Files、Paths;<br><a href=http://docs.oracle.com/javase/tutorial/essential/io/path.html>Path 官方教程</a></p><p>ObjectInputStream 和所有 FilterInputStream 的子类都是装饰流（装饰器模式的主角）<br>注意：OutputStream 子类中没有 StringBuffer 为目的地的。ObjectOutputStream 和所有 FilterOutputStream 的子类都是装饰流。</p><p>几个特殊的类：<br>PushbackInputStream 的功能是查看最后一个字节，不满意就放入缓冲区。主要用在编译器的语法、词法分析部分。输出部分的 BufferedOutputStream 几乎实现相近的功能。</p><p>PrintStream 也可以认为是一个辅助工具。主要可以向其他输出流，或者 FileInputStream 写入数据，本身内部实现还是带缓冲的。本质上是对其它流的综合运用的一个工具而已。一样可以踢出 IO 包！System.out 和 System.err 就是 PrintStream 的实例！System.in 是 InputStream 的实例！<br><strong>你永远不应该 new PrintStream，请用 PrintWriter</strong></p><h3 id=reader-writer>reader writer</h3><p>CharReader、StringReader 是两种基本的介质流，它们分别将 Char 数组、String 中读取数据.PipedReader 是从与其它线程共用的管道中读取数据。</p><p>BufferedReader 很明显就是一个装饰器，它和其子类负责装饰其它 Reader 对象。</p><p>FilterReader 是所有自定义具体装饰流的父类，其子类 PushbackReader 对 Reader 对象进行装饰，会增加一个行号。</p><p>InputStreamReader 是一个连接字节流和字符流的桥梁，它将字节流转变为字符流.FileReader 可以说是一个达到此功能、常用的工具类，在其源代码中明显使用了将 FileInputStream 转变为 Reader 的方法。我们可以从这个类中得到一定的技巧.Reader 中各个类的用途和使用方法基本和 InputStream 中的类使用一致。后面会有 Reader 与 InputStream 的对应关系。</p><p>OutputStreamWriter 是 OutputStream 到 Writer 转换的桥梁，它的子类 FileWriter 其实就是一个实现此功能的具体类（具体可以研究一 SourceCode）.功能和使用和 OutputStream 极其类似，后面会有它们的对应图。</p><p>PrintWriter 和 PrintStream 极其类似，功能和使用也非常相似。但是还是有不同的，<code>PrintStream</code> prints to an <code>OutputStream</code>, and <code>PrintWriter</code> prints to a <code>Writer</code>.</p><p><strong>你永远不应该 new PrintStream，请用 PrintWriter</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>PrintStream</span> <span style=color:#000>stream</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>PrintStream</span><span style=color:#000>(</span><span style=color:#000>outputStream</span><span style=color:#000>);</span>
</span></span><span style=display:flex><span><span style=color:#177500>//With the PrintWriter you can however pass an OutputStreamWriter with a specific encoding.  
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>PrintWriter</span> <span style=color:#000>writer</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>PrintWriter</span><span style=color:#000>(</span><span style=color:#a90d91>new</span> <span style=color:#000>OutputStreamWriter</span><span style=color:#000>(</span><span style=color:#000>outputStream</span><span style=color:#000>,</span> <span style=color:#c41a16>&#34;UTF-8&#34;</span><span style=color:#000>));</span>
</span></span></code></pre></div><h3 id=randomaccessfile-类>RandomAccessFile 类</h3><p>该对象并不是流体系中的一员，其封装了字节流，同时还封装了一个缓冲区（字符数组），通过内部的指针来操作字符数组中的数据。该对象特点：</p><p>该对象只能操作文件，所以构造函数接收两种类型的参数：a.字符串文件路径；b.File 对象。<br>该对象既可以对文件进行读操作，也能进行写操作，在进行对象实例化时可指定操作模式 (r、rw)<br>注意：该对象在实例化时，如果要操作的文件不存在，会自动创建；如果文件存在，写数据未指定位置，会从头开始写，即覆盖原有的内容。可以用于多线程下载或多个线程同时写数据到文件。</p><h3 id=scanning-and-formatting>Scanning and formatting</h3><p>The <code>scanner</code> API breaks input into individual tokens associated with bits of data,The formatting API assembles data into nicely formatted, human-readable form.<br><a href=http://docs.oracle.com/javase/tutorial/essential/io/formatting.html>formatting</a></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a90d91>int</span> <span style=color:#000>i</span> <span style=color:#000>=</span> <span style=color:#1c01ce>2</span><span style=color:#000>;</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>double</span> <span style=color:#000>r</span> <span style=color:#000>=</span> <span style=color:#000>Math</span><span style=color:#000>.</span><span style=color:#836c28>sqrt</span><span style=color:#000>(</span><span style=color:#000>i</span><span style=color:#000>);</span>
</span></span><span style=display:flex><span><span style=color:#000>System</span><span style=color:#000>.</span><span style=color:#836c28>out</span><span style=color:#000>.</span><span style=color:#836c28>format</span><span style=color:#000>(</span><span style=color:#c41a16>&#34;The square root of %d is %f.%n&#34;</span><span style=color:#000>,</span> <span style=color:#000>i</span><span style=color:#000>,</span> <span style=color:#000>r</span><span style=color:#000>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span> <span style=color:#000>Scanner</span> <span style=color:#000>s</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>Scanner</span><span style=color:#000>(</span><span style=color:#a90d91>new</span> <span style=color:#000>BufferedReader</span><span style=color:#000>(</span><span style=color:#a90d91>new</span> <span style=color:#000>FileReader</span><span style=color:#000>(</span><span style=color:#c41a16>&#34;xanadu.txt&#34;</span><span style=color:#000>)));</span>
</span></span></code></pre></div><p>By default, a scanner uses white space to separate tokens. also,u can set :<br><code>s.useDelimiter(",\\s*");</code></p><h3 id=io-from-commandline>I/O from commandline</h3><p>You might expect the Standard Streams to be character streams, but, for <strong>historical</strong> reasons, they are byte streams. <code>System.out</code> and <code>System.err</code> are defined as <code>PrintStream</code> objects. Although it is technically a byte stream, <code>PrintStream</code> utilizes an internal character stream object to emulate many of the features of character streams.(！！！妈的，老子开始就困惑很久了，一直不明白 System.out 怎么可以直接打印出中文.)</p><p>By contrast, <code>System.in</code> is a byte stream with no character stream features. To use Standard Input as a character stream, wrap System.in in InputStreamReader.</p><p><code>InputStreamReader cin = new InputStreamReader(System.in);</code></p><p>jdk1.5 开始读写控制台以前常用的是 Scanner：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Scanner</span> <span style=color:#000>scanner</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>Scanner</span><span style=color:#000>(</span><span style=color:#000>System</span><span style=color:#000>.</span><span style=color:#836c28>in</span><span style=color:#000>);</span>  
</span></span><span style=display:flex><span><span style=color:#000>scanner</span><span style=color:#000>.</span><span style=color:#836c28>nextLine</span><span style=color:#000>();</span>  
</span></span></code></pre></div><p>从 JDK1.6 开始，基本类库中增加了 java.io.Console 类，用于获得与当前 Java 虚拟机关联的基于字符的控制台设备。在纯字符的控制台界面下，可以更加方便地读取数据。</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Console</span> <span style=color:#000>console</span> <span style=color:#000>=</span> <span style=color:#000>System</span><span style=color:#000>.</span><span style=color:#836c28>console</span><span style=color:#000>();</span>  
</span></span><span style=display:flex><span><span style=color:#a90d91>if</span> <span style=color:#000>(</span><span style=color:#000>console</span> <span style=color:#000>==</span> <span style=color:#a90d91>null</span><span style=color:#000>)</span> <span style=color:#000>{</span>  
</span></span><span style=display:flex><span>    <span style=color:#a90d91>throw</span> <span style=color:#a90d91>new</span> <span style=color:#000>IllegalStateException</span><span style=color:#000>(</span><span style=color:#c41a16>&#34;不能使用控制台&#34;</span><span style=color:#000>);</span>  
</span></span><span style=display:flex><span><span style=color:#000>}</span>  
</span></span><span style=display:flex><span><span style=color:#a90d91>return</span> <span style=color:#000>console</span><span style=color:#000>.</span><span style=color:#836c28>readLine</span><span style=color:#000>(</span><span style=color:#000>prompt</span><span style=color:#000>);</span>
</span></span></code></pre></div><h3 id=data-streams>Data Streams</h3><p>Data streams support binary I/O of primitive data type values (boolean, char, byte, short, int, long, float, and double) as well as String values. All data streams implement either the DataInput interface or the DataOutput interface. This section focuses on the most widely-used implementations of these interfaces, DataInputStream and DataOutputStream.</p></div><footer class=post-footer><div class=post-tags><a href=https://zhimoe.github.io/tags/java rel=tag title=java>#java</a>
<a href=https://zhimoe.github.io/tags/code rel=tag title=code>#code</a></div><div id=buymeacoffee><img src=https://zhimoe.github.io/img/buymeacoffee.67z8f89vpuo0.webp alt="Buy me a coffee"></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=https://zhimoe.github.io/post/java-generic/ rel=next title="java generic"><i class="fa fa-chevron-left"></i> java generic</a></div><div class="post-nav-prev post-nav-item"><a href=https://zhimoe.github.io/post/java-file-in-v678/ rel=prev title="Java 6/7/8 中文件读写">Java 6/7/8 中文件读写
<i class="fa fa-chevron-right"></i></a></div></div><div id=giscus class=giscus>评论加载中... 如果长时间无法加载，请针对 giscus.app 启用代理。</div><script src=https://giscus.app/client.js data-repo=zhimoe/zhimoe data-repo-id="MDEwOlJlcG9zaXRvcnkzMzQ2NjI4MDY=" data-category=General data-category-id=DIC_kwDOE_KMls4CXm1t data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=noborder_light data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></footer></article></section></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target=post-toc-wrap>文章目录</li><li class=sidebar-nav-overview data-target=site-overview>站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=https://zhimoe.github.io/img/avatar.jpg alt=zhimoe><p class=site-author-name itemprop=name>zhimoe</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=https://zhimoe.github.io/post/><span class=site-state-item-count>73</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=https://zhimoe.github.io/categories/><span class=site-state-item-count>4</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=https://zhimoe.github.io/tags/><span class=site-state-item-count>47</span>
<span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/zhimoe/ target=_blank title=GitHub><i class="fa fa-fw fa-github"></i>
GitHub</a></span>
<span class=links-of-author-item><a href=https://www.zhihu.com/question/21142149/answer/52383396 target=_blank title=ZhiHu><i class="fa fa-fw fa-globe"></i>
ZhiHu</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class=links-of-blogroll-title><i class="fa fa-fw fa-external-link"></i>
书签</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://learngitbranching.js.org/ title=可视化Git target=_blank>可视化Git</a></li><li class=links-of-blogroll-item><a href=https://gallerix.asia/ title=绘画博物馆 target=_blank>绘画博物馆</a></li><li class=links-of-blogroll-item><a href=https://cheats.rs/ title=Rust小抄 target=_blank>Rust小抄</a></li><li class=links-of-blogroll-item><a href=https://developers.google.com/machine-learning/crash-course/ title=谷歌机器学习 target=_blank>谷歌机器学习</a></li></ul></div><div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline"><div class=tagcloud-of-blogroll-title><i class="fa fa-fw fa-tags"></i>
标签云</div><ul class=tagcloud-of-blogroll-list><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/code>code</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/java>java</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/python>python</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/scala>scala</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/rust>rust</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/spring>spring</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/%E5%B9%B6%E5%8F%91>并发</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/qq-%E7%A9%BA%E9%97%B4>qq 空间</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/git>git</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/docker>docker</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/aop>aop</a></li><li class=tagcloud-of-blogroll-item><a href=https://zhimoe.github.io/tags/async>async</a></li></ul></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class=post-toc><div class=post-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#概览>概览</a></li><li><a href=#stream>stream</a></li><li><a href=#reader-writer>reader writer</a></li><li><a href=#randomaccessfile-类>RandomAccessFile 类</a></li><li><a href=#scanning-and-formatting>Scanning and formatting</a></li><li><a href=#io-from-commandline>I/O from commandline</a></li><li><a href=#data-streams>Data Streams</a></li></ul></li></ul></nav></div></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright><span class=copyright-year>2016 - 2023</span>
<span class=copyright-icon><i class="fa fa-copyright"></i></span>
<span class=copyright-author>zhimoe</span></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span></div></div><script type=text/javascript src=https://cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script type=text/javascript src=https://zhimoe.github.io/js/search.js></script>
<script type=text/javascript src=https://zhimoe.github.io/js/affix.js></script>
<script type=text/javascript src=https://zhimoe.github.io/js/scrollspy.js></script>
<script type=text/javascript>function detectIE(){let e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),s=e.indexOf("Edge/");return t>0||n>0||s>0?-1:1}function getCntViewHeight(){let t=$("#content").height(),e=$(window).height();return t>e?t-e:$(document).height()-e}function getScrollbarWidth(){let e=$("<div />").addClass("scrollbar-measure").prependTo("body"),t=e[0],n=t.offsetWidth-t.clientWidth;return e.remove(),n}function registerBackTop(){let t=50,e=$(".back-to-top");$(window).on("scroll",function(){e.toggleClass("back-to-top-on",window.pageYOffset>t);let s=$(window).scrollTop(),o=getCntViewHeight(),i=s/o,n=Math.round(i*100),a=n>100?100:n;$("#scrollpercent>span").html(a)}),e.on("click",function(){$("html,body").animate({scrollTop:0,screenLeft:0},800)})}function initScrollSpy(){let e=".post-toc",s=$(e),t=".active-current";s.on("activate.bs.scrollspy",function(){let t=$(e+" .active").last();n(),t.addClass("active-current")}).on("clear.bs.scrollspy",n),$("body").scrollspy({target:e});function n(){$(e+" "+t).removeClass(t.substring(1))}}function initAffix(){let e=$(".header-inner").height(),t=parseInt($(".main").css("padding-bottom"),10),n=e+10;$(".sidebar-inner").affix({offset:{top:n,bottom:t}}),$(document).on("affixed.bs.affix",function(){updateTOCHeight(document.body.clientHeight-100)})}function initTOCDimension(){let e;$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){let e=document.body.clientHeight-100;updateTOCHeight(e)},0)}),updateTOCHeight(document.body.clientHeight-100);let t=getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+t+"px)")}function updateTOCHeight(e){e=e||"auto",$(".post-toc").css("max-height",e)}$(function(){let t=$(".header-inner").height()+10;$("#sidebar").css({"margin-top":t}).show();let n=parseInt($("#sidebar").css("margin-top")),s=parseInt($(".sidebar-inner").css("height")),e=n+s,o=$(".content-wrap").height();o<e&&$(".content-wrap").css("min-height",e),$(".site-nav-toggle").on("click",function(){let e=$(".site-nav"),o=$(".toggle"),t="site-nav-on",i="toggle-close",n=e.hasClass(t),a=n?"slideUp":"slideDown",s=n?"removeClass":"addClass";e.stop()[a]("normal",function(){e[s](t),o[s](i)})}),registerBackTop(),initScrollSpy(),initAffix(),initTOCDimension(),$(".sidebar-nav-toc").click(function(){$(this).addClass("sidebar-nav-active"),$(this).next().removeClass("sidebar-nav-active"),$("."+$(this).next().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)}),$(".sidebar-nav-overview").click(function(){$(this).addClass("sidebar-nav-active"),$(this).prev().removeClass("sidebar-nav-active"),$("."+$(this).prev().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)})})</script><script src=https://cdn.bootcdn.net/ajax/libs/imageviewer/1.1.0/viewer.min.js></script>
<script type=text/javascript>$(function(){$(".post-body").viewer()})</script><script>const apiEndpoint="https://pageview.zhimoe.workers.dev/write",payload={url:document.location.href,title:document.title,referrer:window.frames.top.document.referrer};fetch(`${apiEndpoint}?${new URLSearchParams(payload)}`,{mode:"no-cors"}).catch(console.log)</script></body></html>