<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Useful Scala Code Snippets - 新街记事</title>
<meta property="og:title" content="Useful Scala Code Snippets - 新街记事"><meta name=twitter:card content="summary"><meta property="description" content="多个 map 合并，key 相同时则 value 相加"><meta property="og:description" content="多个 map 合并，key 相同时则 value 相加"><link rel=stylesheet href=../../css/style.css><link rel=stylesheet href=../../css/fonts.css><link rel=stylesheet href=../../css/custom.css></head><body class="single post"><div class=crop-h></div><div class=crop-v></div><div class=crop-c></div><nav class="nav-top small"><div class=logo><a href=../../>新街记事</a></div><div class=menu><span class=active><a href=../../post/>博客</a></span>
<span><a href=../../categories/%E7%BC%96%E7%A8%8B/>编程</a></span>
<span><a href=../../categories/%E7%BF%BB%E8%AF%91/>翻译</a></span>
<span><a href=../../categories/%E9%9A%8F%E6%83%B3/>随想</a></span>
<span><a href=../../search/>搜索</a></span></div></nav><div class=article-meta><h1 class=title>Useful Scala Code Snippets</h1><h3 class=meta-line><span><span class=date>2019-04-26</span>
</span><span class=term><a href=../../categories/%E7%BC%96%E7%A8%8B/ class=term-cat>编程</a>
<a href=../../tags/code/ class=term-tag>#code </a><a href=../../tags/scala/ class=term-tag>#scala</a></span></h3></div><div class=main><nav id=TableOfContents><ul><li><a href=#merge-two-map-and-sum-its-values>merge two map and sum its values</a></li><li><a href=#文件读>文件读</a></li><li><a href=#文件写>文件写</a></li><li><a href=#统计词频>统计词频</a></li></ul></nav><h2 id=merge-two-map-and-sum-its-values>merge two map and sum its values</h2><p>多个 map 合并，key 相同时则 value 相加</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#a90d91>val</span> <span style=color:#000>map1</span> <span style=color:#a90d91>=</span> <span style=color:#3f6e75>Map</span><span style=color:#000>(</span><span style=color:#1c01ce>1</span> <span style=color:#000>-&gt;</span> <span style=color:#1c01ce>1</span><span style=color:#000>,</span> <span style=color:#1c01ce>2</span> <span style=color:#000>-&gt;</span> <span style=color:#1c01ce>2</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>val</span> <span style=color:#000>map2</span> <span style=color:#a90d91>=</span> <span style=color:#3f6e75>Map</span><span style=color:#000>(</span><span style=color:#1c01ce>1</span> <span style=color:#000>-&gt;</span> <span style=color:#1c01ce>11</span><span style=color:#000>,</span> <span style=color:#1c01ce>3</span> <span style=color:#000>-&gt;</span> <span style=color:#1c01ce>3</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>val</span> <span style=color:#000>map3</span> <span style=color:#a90d91>=</span> <span style=color:#3f6e75>Map</span><span style=color:#000>(</span><span style=color:#1c01ce>1</span> <span style=color:#000>-&gt;</span> <span style=color:#1c01ce>111</span><span style=color:#000>,</span> <span style=color:#1c01ce>3</span> <span style=color:#000>-&gt;</span> <span style=color:#1c01ce>3</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>val</span> <span style=color:#000>mapList</span> <span style=color:#a90d91>=</span> <span style=color:#3f6e75>List</span><span style=color:#000>(</span><span style=color:#000>map1</span><span style=color:#000>,</span> <span style=color:#000>map2</span><span style=color:#000>,</span> <span style=color:#000>map3</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>val</span> <span style=color:#000>merged</span> <span style=color:#a90d91>=</span> <span style=color:#000>mapList</span><span style=color:#000>.</span><span style=color:#000>reduce</span><span style=color:#000>((</span><span style=color:#000>m1</span><span style=color:#000>,</span> <span style=color:#000>m2</span><span style=color:#000>)</span> <span style=color:#a90d91>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000>m1</span> <span style=color:#000>++</span> <span style=color:#000>m2</span><span style=color:#000>.</span><span style=color:#000>map</span> <span style=color:#000>{</span> <span style=color:#a90d91>case</span> <span style=color:#000>(</span><span style=color:#000>k</span><span style=color:#000>,</span> <span style=color:#000>v</span><span style=color:#000>)</span> <span style=color:#a90d91>=&gt;</span> <span style=color:#000>k</span> <span style=color:#000>-&gt;</span> <span style=color:#000>(</span><span style=color:#000>v</span> <span style=color:#000>+</span> <span style=color:#000>m1</span><span style=color:#000>.</span><span style=color:#000>getOrElse</span><span style=color:#000>(</span><span style=color:#000>k</span><span style=color:#000>,</span> <span style=color:#1c01ce>0</span><span style=color:#000>))</span> <span style=color:#000>}</span>
</span></span><span style=display:flex><span><span style=color:#000>)</span>
</span></span></code></pre></div><h2 id=文件读>文件读</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#177500>// &#34;&#34;&#34;&#34;&#34;&#34;可以避免\\符号
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#a90d91>val</span> <span style=color:#000>file</span> <span style=color:#a90d91>=</span> <span style=color:#c41a16>&#34;&#34;&#34;d:\data\file.txt&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>for</span> <span style=color:#000>(</span><span style=color:#000>line</span> <span style=color:#a90d91>&lt;-</span> <span style=color:#3f6e75>Source</span><span style=color:#000>.</span><span style=color:#000>fromFile</span><span style=color:#000>(</span><span style=color:#000>file</span><span style=color:#000>,</span> <span style=color:#000>encoding</span><span style=color:#000>).</span><span style=color:#000>getLines</span><span style=color:#000>())</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>print</span><span style=color:#000>(</span><span style=color:#000>line</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span><span style=color:#000>}</span>
</span></span></code></pre></div><h2 id=文件写>文件写</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span>  <span style=color:#177500>//资源管理
</span></span></span><span style=display:flex><span><span style=color:#177500></span>  <span style=color:#a90d91>def</span> <span style=color:#000>using</span><span style=color:#000>[</span><span style=color:#a90d91>A</span> <span style=color:#a90d91>&lt;:</span> <span style=color:#000>{</span><span style=color:#a90d91>def</span> <span style=color:#a90d91>close</span><span style=color:#000>()</span> <span style=color:#a90d91>:</span> <span style=color:#a90d91>Unit</span><span style=color:#000>}</span>, <span style=color:#a90d91>R</span><span style=color:#000>](</span><span style=color:#000>resource</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>A</span><span style=color:#000>)(</span><span style=color:#000>fun</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>A</span> <span style=color:#000>=&gt;</span> <span style=color:#000>R</span><span style=color:#000>)</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>R</span> <span style=color:#000>=</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>import</span> <span style=color:#000>scala.language.reflectiveCalls</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>try</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>fun</span><span style=color:#000>(</span><span style=color:#000>resource</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span> <span style=color:#a90d91>finally</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>resource</span><span style=color:#000>.</span><span style=color:#000>close</span><span style=color:#000>()</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000>}</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#000>using</span><span style=color:#000>(</span><span style=color:#a90d91>new</span> <span style=color:#3f6e75>OutputStreamWriter</span><span style=color:#000>(</span><span style=color:#a90d91>new</span> <span style=color:#3f6e75>FileOutputStream</span><span style=color:#000>(</span><span style=color:#000>outputFile</span><span style=color:#000>),</span> <span style=color:#3f6e75>StandardCharsets</span><span style=color:#000>.</span><span style=color:#3f6e75>UTF_8</span><span style=color:#000>))</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>writer</span> <span style=color:#a90d91>=&gt;</span> <span style=color:#000>writer</span><span style=color:#000>.</span><span style=color:#000>write</span><span style=color:#000>(</span><span style=color:#c41a16>s&#34;&#34;&#34;</span><span style=color:#c41a16>${</span><span style=color:#000>line</span><span style=color:#c41a16>}</span><span style=color:#c41a16>\n&#34;&#34;&#34;</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>  <span style=color:#000>}</span>
</span></span></code></pre></div><h2 id=统计词频>统计词频</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span> <span style=color:#a90d91>val</span> <span style=color:#000>nanoUnit</span> <span style=color:#a90d91>=</span> <span style=color:#1c01ce>1000000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#177500>//分词并统计词频
</span></span></span><span style=display:flex><span><span style=color:#177500></span>  <span style=color:#a90d91>def</span> <span style=color:#000>main</span><span style=color:#000>(</span><span style=color:#000>args</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>Array</span><span style=color:#000>[</span><span style=color:#a90d91>String</span><span style=color:#000>])</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>Unit</span> <span style=color:#000>=</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>val</span> <span style=color:#000>path</span> <span style=color:#a90d91>=</span> <span style=color:#c41a16>&#34;&#34;&#34;D:\code\ideaProjects\scala-notes\data\src\out&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>val</span> <span style=color:#000>files</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>List</span><span style=color:#000>[</span><span style=color:#a90d91>File</span><span style=color:#000>]</span> <span style=color:#a90d91>=</span> <span style=color:#a90d91>new</span> <span style=color:#3f6e75>File</span><span style=color:#000>(</span><span style=color:#000>path</span><span style=color:#000>).</span><span style=color:#000>listFiles</span><span style=color:#000>.</span><span style=color:#000>filter</span><span style=color:#000>(</span><span style=color:#a90d91>_</span><span style=color:#000>.</span><span style=color:#000>isFile</span><span style=color:#000>).</span><span style=color:#000>toList</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>val</span> <span style=color:#000>start</span> <span style=color:#a90d91>=</span> <span style=color:#3f6e75>System</span><span style=color:#000>.</span><span style=color:#000>nanoTime</span><span style=color:#000>()</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>val</span> <span style=color:#000>wfList</span> <span style=color:#a90d91>=</span> <span style=color:#3f6e75>ListBuffer</span><span style=color:#000>[</span><span style=color:#a90d91>mutable.Map</span><span style=color:#000>[</span><span style=color:#a90d91>String</span>, <span style=color:#a90d91>Long</span><span style=color:#000>]]()</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>val</span> <span style=color:#000>futures</span> <span style=color:#a90d91>=</span> <span style=color:#a90d91>for</span> <span style=color:#000>(</span><span style=color:#000>file</span> <span style=color:#a90d91>&lt;-</span> <span style=color:#000>files</span><span style=color:#000>)</span> <span style=color:#a90d91>yield</span> <span style=color:#3f6e75>Future</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>countWrodsInFile</span><span style=color:#000>(</span><span style=color:#000>file</span><span style=color:#000>,</span> <span style=color:#c41a16>&#34;UTF-8&#34;</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>for</span> <span style=color:#000>(</span><span style=color:#000>f</span> <span style=color:#a90d91>&lt;-</span> <span style=color:#000>futures</span><span style=color:#000>)</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>      <span style=color:#a90d91>val</span> <span style=color:#000>words</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>mutable.Map</span><span style=color:#000>[</span><span style=color:#a90d91>String</span>, <span style=color:#a90d91>Long</span><span style=color:#000>]</span> <span style=color:#a90d91>=</span> <span style=color:#3f6e75>Await</span><span style=color:#000>.</span><span style=color:#000>result</span><span style=color:#000>(</span><span style=color:#000>f</span><span style=color:#000>,</span> <span style=color:#3f6e75>Duration</span><span style=color:#000>.</span><span style=color:#3f6e75>Inf</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>      <span style=color:#000>wfList</span> <span style=color:#000>+=</span> <span style=color:#000>words</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span>    <span style=color:#177500>//merge the word frequency map
</span></span></span><span style=display:flex><span><span style=color:#177500></span>    <span style=color:#a90d91>val</span> <span style=color:#000>finalWf</span> <span style=color:#a90d91>=</span> <span style=color:#000>wfList</span><span style=color:#000>.</span><span style=color:#000>reduce</span><span style=color:#000>((</span><span style=color:#000>m1</span><span style=color:#000>,</span> <span style=color:#000>m2</span><span style=color:#000>)</span> <span style=color:#a90d91>=&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000>m1</span> <span style=color:#000>++</span> <span style=color:#000>m2</span><span style=color:#000>.</span><span style=color:#000>map</span> <span style=color:#000>{</span> <span style=color:#a90d91>case</span> <span style=color:#000>(</span><span style=color:#000>k</span><span style=color:#000>,</span> <span style=color:#000>v</span><span style=color:#000>)</span> <span style=color:#a90d91>=&gt;</span> <span style=color:#000>k</span> <span style=color:#000>-&gt;</span> <span style=color:#000>(</span><span style=color:#000>v</span> <span style=color:#000>+</span> <span style=color:#000>m1</span><span style=color:#000>.</span><span style=color:#000>getOrElse</span><span style=color:#000>(</span><span style=color:#000>k</span><span style=color:#000>,</span> <span style=color:#1c01ce>0L</span><span style=color:#000>))</span> <span style=color:#000>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>val</span> <span style=color:#000>end</span> <span style=color:#a90d91>=</span> <span style=color:#3f6e75>System</span><span style=color:#000>.</span><span style=color:#000>nanoTime</span><span style=color:#000>()</span>
</span></span><span style=display:flex><span>    <span style=color:#000>println</span><span style=color:#000>(</span><span style=color:#c41a16>s&#34;container size=</span><span style=color:#c41a16>${</span><span style=color:#000>finalWf</span><span style=color:#000>.</span><span style=color:#000>size</span><span style=color:#c41a16>}</span><span style=color:#c41a16>&#34;</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#177500>// sort map
</span></span></span><span style=display:flex><span><span style=color:#177500></span>    <span style=color:#a90d91>val</span> <span style=color:#000>wordsFreq</span> <span style=color:#a90d91>=</span> <span style=color:#000>finalWf</span><span style=color:#000>.</span><span style=color:#000>toList</span><span style=color:#000>.</span><span style=color:#000>sortWith</span><span style=color:#000>(</span><span style=color:#a90d91>_</span><span style=color:#000>.</span><span style=color:#000>_2</span> <span style=color:#000>&gt;</span> <span style=color:#a90d91>_</span><span style=color:#000>.</span><span style=color:#000>_2</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>write2file</span><span style=color:#000>(</span><span style=color:#000>wordsFreq</span><span style=color:#000>,</span> <span style=color:#3f6e75>Paths</span><span style=color:#000>.</span><span style=color:#000>get</span><span style=color:#000>(</span><span style=color:#000>path</span><span style=color:#000>,</span> <span style=color:#c41a16>&#34;final.txt&#34;</span><span style=color:#000>).</span><span style=color:#000>toFile</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>println</span><span style=color:#000>(</span><span style=color:#c41a16>s&#34;total used time = </span><span style=color:#c41a16>${</span><span style=color:#000>(</span><span style=color:#000>end</span> <span style=color:#000>-</span> <span style=color:#000>start</span><span style=color:#000>)</span> <span style=color:#000>/</span> <span style=color:#000>nanoUnit</span><span style=color:#c41a16>}</span><span style=color:#c41a16> ms&#34;</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>println</span><span style=color:#000>(</span><span style=color:#c41a16>s&#34;cups = </span><span style=color:#c41a16>${</span><span style=color:#3f6e75>Runtime</span><span style=color:#000>.</span><span style=color:#000>getRuntime</span><span style=color:#000>.</span><span style=color:#000>availableProcessors</span><span style=color:#000>()</span><span style=color:#c41a16>}</span><span style=color:#c41a16>&#34;</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>  <span style=color:#000>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a90d91>def</span> <span style=color:#000>countWrodsInFile</span><span style=color:#000>(</span><span style=color:#000>file</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>File</span><span style=color:#000>,</span> <span style=color:#000>encoding</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>String</span><span style=color:#000>)</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>mutable.Map</span><span style=color:#000>[</span><span style=color:#a90d91>String</span>, <span style=color:#a90d91>Long</span><span style=color:#000>]</span> <span style=color:#a90d91>=</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>val</span> <span style=color:#000>wf</span> <span style=color:#a90d91>=</span> <span style=color:#000>mutable</span><span style=color:#000>.</span><span style=color:#3f6e75>Map</span><span style=color:#000>[</span><span style=color:#a90d91>String</span>, <span style=color:#a90d91>Long</span><span style=color:#000>]().</span><span style=color:#000>withDefaultValue</span><span style=color:#000>(</span><span style=color:#1c01ce>0</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#a90d91>for</span> <span style=color:#000>(</span><span style=color:#000>line</span> <span style=color:#a90d91>&lt;-</span> <span style=color:#3f6e75>Source</span><span style=color:#000>.</span><span style=color:#000>fromFile</span><span style=color:#000>(</span><span style=color:#000>file</span><span style=color:#000>,</span> <span style=color:#000>encoding</span><span style=color:#000>).</span><span style=color:#000>getLines</span><span style=color:#000>())</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>      <span style=color:#a90d91>val</span> <span style=color:#000>l</span> <span style=color:#a90d91>=</span> <span style=color:#000>line</span><span style=color:#000>.</span><span style=color:#000>trim</span>
</span></span><span style=display:flex><span>      <span style=color:#000>wf</span><span style=color:#000>.</span><span style=color:#000>update</span><span style=color:#000>(</span><span style=color:#000>l</span><span style=color:#000>,</span> <span style=color:#000>wf</span><span style=color:#000>(</span><span style=color:#000>l</span><span style=color:#000>)</span> <span style=color:#000>+</span> <span style=color:#1c01ce>1</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000>println</span><span style=color:#000>(</span><span style=color:#c41a16>s&#34;</span><span style=color:#c41a16>${</span><span style=color:#000>file</span><span style=color:#000>.</span><span style=color:#000>getName</span><span style=color:#c41a16>}</span><span style=color:#c41a16> has words:</span><span style=color:#c41a16>${</span><span style=color:#000>wf</span><span style=color:#000>.</span><span style=color:#000>size</span><span style=color:#c41a16>}</span><span style=color:#c41a16>&#34;</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>wf</span>
</span></span><span style=display:flex><span>  <span style=color:#000>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a90d91>def</span> <span style=color:#000>write2file</span><span style=color:#000>(</span><span style=color:#000>wf</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>Seq</span><span style=color:#000>[(</span><span style=color:#a90d91>String</span>, <span style=color:#a90d91>Long</span><span style=color:#000>)],</span> <span style=color:#000>out</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>File</span><span style=color:#000>)</span><span style=color:#a90d91>:</span> <span style=color:#a90d91>Unit</span> <span style=color:#000>=</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>using</span><span style=color:#000>(</span><span style=color:#a90d91>new</span> <span style=color:#3f6e75>OutputStreamWriter</span><span style=color:#000>(</span><span style=color:#a90d91>new</span> <span style=color:#3f6e75>FileOutputStream</span><span style=color:#000>(</span><span style=color:#000>out</span><span style=color:#000>),</span> <span style=color:#3f6e75>StandardCharsets</span><span style=color:#000>.</span><span style=color:#3f6e75>UTF_8</span><span style=color:#000>))</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>writer</span> <span style=color:#a90d91>=&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#a90d91>for</span> <span style=color:#000>(</span><span style=color:#000>it</span> <span style=color:#a90d91>&lt;-</span> <span style=color:#000>wf</span><span style=color:#000>)</span> <span style=color:#000>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>writer</span><span style=color:#000>.</span><span style=color:#000>write</span><span style=color:#000>(</span><span style=color:#c41a16>s&#34;&#34;&#34;</span><span style=color:#c41a16>${</span><span style=color:#000>it</span><span style=color:#000>.</span><span style=color:#000>_1</span><span style=color:#c41a16>}</span><span style=color:#c41a16> </span><span style=color:#c41a16>${</span><span style=color:#000>it</span><span style=color:#000>.</span><span style=color:#000>_2</span><span style=color:#c41a16>}</span><span style=color:#c41a16>\n&#34;&#34;&#34;</span><span style=color:#000>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000>}</span>
</span></span></code></pre></div><nav class="post-nav fullwidth"><span>&larr; <a href=../../post/elasticsearch-query-dsl/>理解 Elasticsearch Query DSL 中的 JSON 结构</a></span>
<span><a href=../../post/scala-future/>Scala Future</a> &rarr;</span></nav></div><footer class=small><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/fix-toc.min.js defer></script><link rel=stylesheet href=//cdn.jsdelivr.net/gh/rstudio/markdown/inst/resources/prism-xcode.css><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js defer></script><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/copy-button.min.js defer></script><link rel=stylesheet href=//cdn.jsdelivr.net/npm/@xiee/utils/css/copy-button.min.css><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/heading-anchor.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/fullwidth.min.js defer></script><hr><p class=nav-bottom><span><a href=https://zhi.moe>xdh</a> © 2024</span>
<span class=menu-bottom><a href=../../categories/>分类</a> <a href=../../tags/>标签</a>
<a href=../../post/index.xml type=application/rss+xml title="RSS feed">订阅</a>
<a href=#>回到顶部</a></span></p></footer></body></html>