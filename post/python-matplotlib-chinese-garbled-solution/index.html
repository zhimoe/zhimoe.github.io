<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Matplotlib 图例中文乱码解决方案 - 香取海</title>
<meta property="og:title" content="Matplotlib 图例中文乱码解决方案 - 香取海"><meta name=twitter:card content="summary"><meta property="description" content="很久以前写的一个答案，四年来一直有人评论感谢，说只有我的方法是有效的。非常意外也很高兴。也放到博客中里备份吧。
zhihu.com"><meta property="og:description" content="很久以前写的一个答案，四年来一直有人评论感谢，说只有我的方法是有效的。非常意外也很高兴。也放到博客中里备份吧。
zhihu.com"><link rel=stylesheet href=../../css/style.css><link rel=stylesheet href=../../css/fonts.css><link rel=stylesheet href=../../css/custom.css><link rel=icon type=image/png href=../../img/logo.png><link rel=apple-touch-icon href=../../img/logo.png><link rel=apple-touch-icon-precomposed href=../../img/logo.png></head><body class="single post"><div class=crop-h></div><div class=crop-v></div><div class=crop-c></div><nav class="nav-top small"><div class=logo><a href=../../>香取海</a></div><div class=menu><span class=active><a href=../../post/>博客</a></span>
<span><a href=../../categories/%E7%BC%96%E7%A8%8B/>编程</a></span>
<span><a href=../../categories/%E7%BF%BB%E8%AF%91/>翻译</a></span>
<span><a href=../../categories/%E9%9A%8F%E6%83%B3/>随想</a></span>
<span><a href=../../search/>搜索</a></span></div></nav><div class=article-meta><h1 class=title>Matplotlib 图例中文乱码解决方案</h1><h3 class=meta-line><span><span class=date>2020-05-01</span>
</span><span class=term><a href=../../categories/%E7%BC%96%E7%A8%8B/ class=term-cat>编程</a>
<a href=../../tags/code/ class=term-tag>#code </a><a href=../../tags/python/ class=term-tag>#python</a></span></h3></div><div class=main><p>很久以前写的一个答案，四年来一直有人评论感谢，说只有我的方法是有效的。非常意外也很高兴。也放到博客中里备份吧。<br><a href=https://www.zhihu.com/question/25404709/answer/67672003>zhihu.com</a></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#177500># https://www.zhihu.com/question/25404709/answer/67672003</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>import</span> <span style=color:#000>matplotlib.font_manager</span> <span style=color:#a90d91>as</span> <span style=color:#000>fm</span>
</span></span><span style=display:flex><span><span style=color:#177500># 微软雅黑，如果需要宋体，可以用 simsun.ttc</span>
</span></span><span style=display:flex><span><span style=color:#000>myfont</span> <span style=color:#000>=</span> <span style=color:#000>fm</span><span style=color:#000>.</span><span style=color:#000>FontProperties</span>(<span style=color:#000>fname</span><span style=color:#000>=</span><span style=color:#c41a16>&#39;C:/Windows/Fonts/msyh.ttc&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#177500># Linux 字体在&#34;/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc&#34;, </span>
</span></span><span style=display:flex><span><span style=color:#177500># 需要先安装字体&#34;&gt;sudo apt install fonts-noto-cjk -y&#34;</span>
</span></span><span style=display:flex><span><span style=color:#177500># MacOS 中文字体文件在&#34;/System/Library/Fonts/PingFang.ttc&#34;</span>
</span></span><span style=display:flex><span><span style=color:#177500># Win10,Linux 已测试，MacOS 未验证</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>import</span> <span style=color:#000>matplotlib.pyplot</span> <span style=color:#a90d91>as</span> <span style=color:#000>plt</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#000>.</span><span style=color:#000>clf</span>()  <span style=color:#177500># 清空画布</span>
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#000>.</span><span style=color:#000>plot</span>([<span style=color:#1c01ce>1</span>, <span style=color:#1c01ce>2</span>, <span style=color:#1c01ce>3</span>], [<span style=color:#1c01ce>4</span>, <span style=color:#1c01ce>5</span>, <span style=color:#1c01ce>6</span>])
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#000>.</span><span style=color:#000>xlabel</span>(<span style=color:#c41a16>&#34;横轴&#34;</span>,<span style=color:#000>fontproperties</span><span style=color:#000>=</span><span style=color:#000>myfont</span>)
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#000>.</span><span style=color:#000>ylabel</span>(<span style=color:#c41a16>&#34;纵轴&#34;</span>,<span style=color:#000>fontproperties</span><span style=color:#000>=</span><span style=color:#000>myfont</span>)
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#000>.</span><span style=color:#000>title</span>(<span style=color:#c41a16>&#34;pythoner.com&#34;</span>,<span style=color:#000>fontproperties</span><span style=color:#000>=</span><span style=color:#000>myfont</span>)
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#000>.</span><span style=color:#000>legend</span>([<span style=color:#c41a16>&#39;图例&#39;</span>],<span style=color:#000>prop</span><span style=color:#000>=</span><span style=color:#000>myfont</span>)
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#000>.</span><span style=color:#000>show</span>()
</span></span></code></pre></div><nav class="post-nav fullwidth"><span>&larr; <a href=../../post/scala-python-file-encoding-escape/>Scala Python 文件读取跳过转义字符</a></span>
<span class=post-nav-next><a href=../../post/rust-ownership-lifetimes/>Rust Ownerships Lifetimes 教程</a> &rarr;</span></nav></div><footer class=small><link rel=stylesheet href=//cdn.jsdelivr.net/gh/rstudio/markdown/inst/resources/prism-xcode.css><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js defer></script><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/copy-button.min.js defer></script><link rel=stylesheet href=//cdn.jsdelivr.net/npm/@xiee/utils/css/copy-button.min.css><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/external-link.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/fullwidth.min.js defer></script><hr><p class=nav-bottom><span><a href=https://zhi.moe>xdh</a> © 2024</span>
<span class=menu-bottom><a href=../../categories/>分类</a> <a href=../../tags/>标签</a>
<a href=../../post/index.xml type=application/rss+xml title="RSS feed">订阅</a>
<a href=#>回到顶部</a></span></p></footer></body></html>