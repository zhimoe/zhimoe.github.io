<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Java-==-and-equals - 新街记事</title>
<meta property="og:title" content="Java-==-and-equals - 新街记事"><meta name=twitter:card content="summary"><meta property="description" content="samples code and notes on java == and equals"><meta property="og:description" content="samples code and notes on java == and equals"><link rel=stylesheet href=../../css/style.css><link rel=stylesheet href=../../css/fonts.css><link rel=stylesheet href=../../css/custom.css><link rel=stylesheet href=https://indestructibletype.com/fonts/Jost.css></head><body class="single post"><div class=crop-h></div><div class=crop-v></div><div class=crop-c></div><nav class="nav-top small"><div class=logo><a href=../../>新街记事</a></div><div class=menu><span class=active><a href=../../post/>博客</a></span>
<span><a href=../../categories/%E7%BC%96%E7%A8%8B/>编程</a></span>
<span><a href=../../categories/%E7%BF%BB%E8%AF%91/>翻译</a></span>
<span><a href=../../categories/%E9%9A%8F%E6%83%B3/>随想</a></span>
<span><a href=../../search/>搜索</a></span></div></nav><div class=article-meta><h1 class=title>Java-==-and-equals</h1><h3 class=meta-line><span><span class=date>2016-01-01</span>
</span><span class=term><a href=../../categories/%E7%BC%96%E7%A8%8B/ class=term-cat>编程</a>
<a href=../../tags/java/ class=term-tag>#java </a><a href=../../tags/code/ class=term-tag>#code</a></span></h3></div><div class=main><p>samples code and notes on java == and equals</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#177500>/**
</span></span></span><span style=display:flex><span><span style=color:#177500> * samples for == and equal() 
</span></span></span><span style=display:flex><span><span style=color:#177500> * @author zhimoe
</span></span></span><span style=display:flex><span><span style=color:#177500> *
</span></span></span><span style=display:flex><span><span style=color:#177500> */</span>
</span></span><span style=display:flex><span><span style=color:#a90d91>class</span> <span style=color:#3f6e75>TestObj</span> {
</span></span><span style=display:flex><span>	<span style=color:#177500>// the class for test == and equal()</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a90d91>public</span> <span style=color:#a90d91>class</span> <span style=color:#3f6e75>EqualAndCompare</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a90d91>public</span> <span style=color:#a90d91>static</span> <span style=color:#a90d91>void</span> <span style=color:#000>main</span>(<span style=color:#000>String</span><span style=color:#000>[]</span> <span style=color:#000>args</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#000>TestObj</span> <span style=color:#000>obj1</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>TestObj</span>();
</span></span><span style=display:flex><span>		<span style=color:#000>TestObj</span> <span style=color:#000>obj2</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>TestObj</span>();
</span></span><span style=display:flex><span>		<span style=color:#000>TestObj</span> <span style=color:#000>obj3</span> <span style=color:#000>=</span> <span style=color:#000>obj1</span>;
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>obj1</span> <span style=color:#000>==</span> <span style=color:#000>obj2</span>);<span style=color:#177500>// false ,</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// == Compares references, not values</span>
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>obj1</span> <span style=color:#000>==</span> <span style=color:#000>obj3</span>);<span style=color:#177500>// true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>obj1</span>.<span style=color:#836c28>equals</span>(<span style=color:#000>obj2</span>));<span style=color:#177500>// false,</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// equal() method is derived from java.lang.Object, if not override,nor</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// in superclass,then equal behave as same as ==</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// Always remember to override hashCode if you override equals so as not</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// to &#34;break the contract&#34;.</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// As per the API, the result returned from the hashCode() method for</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// two objects must be the same if their equals methods shows that they</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// are equivalent. The converse is not necessarily true.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>s1</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#34;haha&#34;</span>;<span style=color:#177500>// constant pool</span>
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>s2</span> <span style=color:#000>=</span> <span style=color:#a90d91>new</span> <span style=color:#000>String</span>(<span style=color:#c41a16>&#34;haha&#34;</span>);<span style=color:#177500>// defined in ?heap</span>
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>s1</span> <span style=color:#000>==</span> <span style=color:#000>s2</span>);<span style=color:#177500>// false ,== Compares references, not</span>
</span></span><span style=display:flex><span>										<span style=color:#177500>// values, there is a exception for</span>
</span></span><span style=display:flex><span>										<span style=color:#177500>// static field in class, static String</span>
</span></span><span style=display:flex><span>										<span style=color:#177500>// in class == and equal both always</span>
</span></span><span style=display:flex><span>										<span style=color:#177500>// return *true*</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// for more infomation,see :</span>
</span></span><span style=display:flex><span>		<span style=color:#177500>// http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>s1</span>.<span style=color:#836c28>equals</span>(<span style=color:#000>s2</span>)); <span style=color:#177500>// true compare the</span>
</span></span><span style=display:flex><span>											<span style=color:#177500>// value</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>s3</span> <span style=color:#000>=</span> <span style=color:#000>s2</span>.<span style=color:#836c28>intern</span>();<span style=color:#177500>// find the same value String in constant pool</span>
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>s1</span> <span style=color:#000>==</span> <span style=color:#000>s3</span>);<span style=color:#177500>// true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#a90d91>int</span> <span style=color:#000>i1</span> <span style=color:#000>=</span> <span style=color:#000>2</span>;<span style=color:#177500>// primitive type has no equal() method</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Integer</span> <span style=color:#000>i3</span> <span style=color:#000>=</span> <span style=color:#000>Integer</span>.<span style=color:#836c28>valueOf</span>(<span style=color:#000>2</span>);
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>i1</span> <span style=color:#000>==</span> <span style=color:#000>i3</span>);<span style=color:#177500>// true, i3 automatic unboxing into int;</span>
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>i3</span>.<span style=color:#836c28>equals</span>(<span style=color:#000>i1</span>));<span style=color:#177500>// auto boxing into Integer</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#000>Integer</span> <span style=color:#000>i2</span> <span style=color:#000>=</span> <span style=color:#000>2</span>;
</span></span><span style=display:flex><span>		<span style=color:#000>System</span>.<span style=color:#836c28>out</span>.<span style=color:#836c28>println</span>(<span style=color:#000>i3</span>.<span style=color:#836c28>compareTo</span>(<span style=color:#000>i2</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#177500>/*
</span></span></span><span style=display:flex><span><span style=color:#177500>	 * Comparable interface, a.compareTo(b) return -1：less,0:equal,1:greater. 0
</span></span></span><span style=display:flex><span><span style=color:#177500>	 * should always be returned for objects when the .equals() comparisons
</span></span></span><span style=display:flex><span><span style=color:#177500>	 * return true. All Java classes that have a natural ordering implement this
</span></span></span><span style=display:flex><span><span style=color:#177500>	 * (String, Double, BigInteger, ...).
</span></span></span><span style=display:flex><span><span style=color:#177500>	 * 
</span></span></span><span style=display:flex><span><span style=color:#177500>	 *
</span></span></span><span style=display:flex><span><span style=color:#177500>	 * Comparator interface: is a util for compare two instance,then you can use
</span></span></span><span style=display:flex><span><span style=color:#177500>	 * the comparator to sort array and other things
</span></span></span><span style=display:flex><span><span style=color:#177500>	 * 
</span></span></span><span style=display:flex><span><span style=color:#177500>	 */</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><nav class="post-nav fullwidth"><span>&larr; <a href=../../post/java-annotation-processing/>Java 注解和注解处理器</a></span>
<span><a href=../../post/java%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%92%8C%E5%BA%8F%E5%88%97%E5%8C%96/>单例模式和序列化</a> &rarr;</span></nav></div><footer class=small><link rel=stylesheet href=//cdn.jsdelivr.net/gh/rstudio/markdown/inst/resources/prism-xcode.css><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js defer></script><script src=//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js defer></script><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/copy-button.min.js defer></script><link rel=stylesheet href=//cdn.jsdelivr.net/npm/@xiee/utils/css/copy-button.min.css><script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/fullwidth.min.js defer></script><hr><p class=nav-bottom><span><a href=https://zhi.moe>ZhiMoe</a> © 2024</span>
<span class=menu-bottom><a href=../../categories/>Categories</a> <a href=../../tags/>Tags</a>
<a href=../../post/index.xml type=application/rss+xml title="RSS feed">Subscribe</a>
<a href=#>Back to Top</a></span></p></footer></body></html>